["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/@firebase/functions/dist/index.esm.js"],"~:js","shadow$provide.module$node_modules$$firebase$functions$dist$index_esm=function(global,require,module,exports){function _typeof(obj$jscomp$0){_typeof=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&\"function\"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj};return _typeof(obj$jscomp$0)}function codeForHTTPStatus(status){if(200<=status&&300>status)return\"ok\";switch(status){case 0:return\"internal\";\ncase 400:return\"invalid-argument\";case 401:return\"unauthenticated\";case 403:return\"permission-denied\";case 404:return\"not-found\";case 409:return\"aborted\";case 429:return\"resource-exhausted\";case 499:return\"cancelled\";case 500:return\"internal\";case 501:return\"unimplemented\";case 503:return\"unavailable\";case 504:return\"deadline-exceeded\"}return\"unknown\"}function mapValues(o,f){var result={},key;for(key in o)o.hasOwnProperty(key)&&(result[key]=f(o[key]));return result}function failAfter(millis){var timer,\npromise=new Promise(function(_,reject){timer=setTimeout(function(){reject(new HttpsErrorImpl(\"deadline-exceeded\",\"deadline-exceeded\"))},millis)});return{timer,promise}}function clearTimeoutWrapper(timer,promise){return(0,_tslib.__awaiter)(this,void 0,void 0,function(){var result;return(0,_tslib.__generator)(this,function(_a){switch(_a.label){case 0:return[4,promise];case 1:return result=_a.sent(),clearTimeout(timer),[2,result]}})})}global=function(obj){return obj&&obj.__esModule?obj:{\"default\":obj}}(require(\"module$node_modules$$firebase$app$dist$index_esm\"));\nvar _tslib=require(\"module$node_modules$tslib$tslib\"),_component=require(\"module$node_modules$$firebase$component$dist$index_esm\"),errorCodeMap={OK:\"ok\",CANCELLED:\"cancelled\",UNKNOWN:\"unknown\",INVALID_ARGUMENT:\"invalid-argument\",DEADLINE_EXCEEDED:\"deadline-exceeded\",NOT_FOUND:\"not-found\",ALREADY_EXISTS:\"already-exists\",PERMISSION_DENIED:\"permission-denied\",UNAUTHENTICATED:\"unauthenticated\",RESOURCE_EXHAUSTED:\"resource-exhausted\",FAILED_PRECONDITION:\"failed-precondition\",ABORTED:\"aborted\",OUT_OF_RANGE:\"out-of-range\",\nUNIMPLEMENTED:\"unimplemented\",INTERNAL:\"internal\",UNAVAILABLE:\"unavailable\",DATA_LOSS:\"data-loss\"},HttpsErrorImpl=function(_super){function HttpsErrorImpl(code,message,details){message=_super.call(this,message)||this;Object.setPrototypeOf(message,HttpsErrorImpl.prototype);message.code=code;message.details=details;return message}(0,_tslib.__extends)(HttpsErrorImpl,_super);return HttpsErrorImpl}(Error),ContextProvider=function(){function ContextProvider(authProvider,messagingProvider){var _this=this;\nthis.messaging=this.auth=null;this.auth=authProvider.getImmediate({optional:!0});this.messaging=messagingProvider.getImmediate({optional:!0});this.auth||authProvider.get().then(function(auth){return _this.auth=auth},function(){});this.messaging||messagingProvider.get().then(function(messaging){return _this.messaging=messaging},function(){})}ContextProvider.prototype.getAuthToken=function(){return(0,_tslib.__awaiter)(this,void 0,void 0,function(){var token;return(0,_tslib.__generator)(this,function(_a){switch(_a.label){case 0:if(!this.auth)return[2,\nvoid 0];_a.label=1;case 1:return _a.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(token=_a.sent())?[2,token.accessToken]:[2,void 0];case 3:return _a.sent(),[2,void 0];case 4:return[2]}})})};ContextProvider.prototype.getInstanceIdToken=function(){return(0,_tslib.__awaiter)(this,void 0,void 0,function(){return(0,_tslib.__generator)(this,function(_a){switch(_a.label){case 0:if(!(this.messaging&&\"Notification\"in self)||\"granted\"!==Notification.permission)return[2,void 0];_a.label=1;case 1:return _a.trys.push([1,\n3,,4]),[4,this.messaging.getToken()];case 2:return[2,_a.sent()];case 3:return _a.sent(),[2,void 0];case 4:return[2]}})})};ContextProvider.prototype.getContext=function(){return(0,_tslib.__awaiter)(this,void 0,void 0,function(){var authToken,instanceIdToken;return(0,_tslib.__generator)(this,function(_a){switch(_a.label){case 0:return[4,this.getAuthToken()];case 1:return authToken=_a.sent(),[4,this.getInstanceIdToken()];case 2:return instanceIdToken=_a.sent(),[2,{authToken,instanceIdToken}]}})})};return ContextProvider}(),\nSerializer=function(){function Serializer(){}Serializer.prototype.encode=function(data){var _this=this;if(null==data)return null;data instanceof Number&&(data=data.valueOf());if(\"number\"===typeof data&&isFinite(data)||!0===data||!1===data||\"[object String]\"===Object.prototype.toString.call(data))return data;if(data instanceof Date)return data.toISOString();if(Array.isArray(data))return data.map(function(x){return _this.encode(x)});if(\"function\"===typeof data||\"object\"===_typeof(data))return mapValues(data,\nfunction(x){return _this.encode(x)});throw Error(\"Data cannot be encoded in JSON: \"+data);};Serializer.prototype.decode=function(json){var _this=this;if(null==json)return json;if(json[\"@type\"])switch(json[\"@type\"]){case \"type.googleapis.com/google.protobuf.Int64Value\":case \"type.googleapis.com/google.protobuf.UInt64Value\":var value=Number(json.value);if(isNaN(value))throw Error(\"Data cannot be decoded from JSON: \"+json);return value;default:throw Error(\"Data cannot be decoded from JSON: \"+json);}return Array.isArray(json)?\njson.map(function(x){return _this.decode(x)}):\"function\"===typeof json||\"object\"===_typeof(json)?mapValues(json,function(x){return _this.decode(x)}):json};return Serializer}(),Service=function(){function Service(app_,authProvider,messagingProvider,appCheckProvider,regionOrCustomDomain_,fetchImpl){var _this=this;void 0===regionOrCustomDomain_&&(regionOrCustomDomain_=\"us-central1\");this.app_=app_;this.appCheckProvider=appCheckProvider;this.fetchImpl=fetchImpl;this.serializer=new Serializer;this.emulatorOrigin=\nnull;this.INTERNAL={\"delete\":function(){return Promise.resolve(_this.deleteService())}};this.contextProvider=new ContextProvider(authProvider,messagingProvider);this.cancelAllRequests=new Promise(function(resolve){_this.deleteService=function(){return resolve()}});try{this.customDomain=(new URL(regionOrCustomDomain_)).origin,this.region=\"us-central1\"}catch(e){this.customDomain=null,this.region=regionOrCustomDomain_}}Object.defineProperty(Service.prototype,\"app\",{get:function(){return this.app_},enumerable:!1,\nconfigurable:!0});Service.prototype._url=function(name){var projectId=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+\"/\"+projectId+\"/\"+this.region+\"/\"+name:null!==this.customDomain?this.customDomain+\"/\"+name:\"https://\"+this.region+\"-\"+projectId+\".cloudfunctions.net/\"+name};Service.prototype.useEmulator=function(host,port){this.emulatorOrigin=\"http://\"+host+\":\"+port};Service.prototype.useFunctionsEmulator=function(origin){this.emulatorOrigin=origin};Service.prototype.httpsCallable=\nfunction(name,options){var _this=this;return function(data){return _this.call(name,data,options||{})}};Service.prototype.postJSON=function(url,body,headers){return(0,_tslib.__awaiter)(this,void 0,void 0,function(){var appCheckToken,response,json;return(0,_tslib.__generator)(this,function(_a){switch(_a.label){case 0:return headers[\"Content-Type\"]=\"application/json\",[4,this.getAppCheckToken()];case 1:appCheckToken=_a.sent(),null!==appCheckToken&&(headers[\"X-Firebase-AppCheck\"]=appCheckToken),_a.label=\n2;case 2:return _a.trys.push([2,4,,5]),[4,this.fetchImpl(url,{method:\"POST\",body:JSON.stringify(body),headers})];case 3:return response=_a.sent(),[3,5];case 4:return _a.sent(),[2,{status:0,json:null}];case 5:json=null,_a.label=6;case 6:return _a.trys.push([6,8,,9]),[4,response.json()];case 7:return json=_a.sent(),[3,9];case 8:return _a.sent(),[3,9];case 9:return[2,{status:response.status,json}]}})})};Service.prototype.getAppCheckToken=function(){return(0,_tslib.__awaiter)(this,void 0,void 0,function(){var appCheck,\nresult;return(0,_tslib.__generator)(this,function(_a){switch(_a.label){case 0:return(appCheck=this.appCheckProvider.getImmediate({optional:!0}))?[4,appCheck.getToken()]:[3,2];case 1:return result=_a.sent(),[2,result.token];case 2:return[2,null]}})})};Service.prototype.call=function(name,data,options){return(0,_tslib.__awaiter)(this,void 0,void 0,function(){var url,body,headers,context,timeout,_a,timer,failAfterPromise,response,error,responseData,decodedData;return(0,_tslib.__generator)(this,function(_b){switch(_b.label){case 0:return url=\nthis._url(name),data=this.serializer.encode(data),body={data},headers={},[4,this.contextProvider.getContext()];case 1:return context=_b.sent(),context.authToken&&(headers.Authorization=\"Bearer \"+context.authToken),context.instanceIdToken&&(headers[\"Firebase-Instance-ID-Token\"]=context.instanceIdToken),timeout=options.timeout||7E4,_a=failAfter(timeout),timer=_a.timer,failAfterPromise=_a.promise,[4,Promise.race([clearTimeoutWrapper(timer,this.postJSON(url,body,headers)),failAfterPromise,clearTimeoutWrapper(timer,\nthis.cancelAllRequests)])];case 2:response=_b.sent();if(!response)throw new HttpsErrorImpl(\"cancelled\",\"Firebase Functions instance was deleted.\");a:{_b=response.json;var serializer=this.serializer,code=codeForHTTPStatus(response.status),description=code,details=void 0;try{var errorJSON=_b&&_b.error;if(errorJSON){var status_1=errorJSON.status;if(\"string\"===typeof status_1){if(!errorCodeMap[status_1]){error=new HttpsErrorImpl(\"internal\",\"internal\");break a}code=errorCodeMap[status_1];description=status_1}var message=\nerrorJSON.message;\"string\"===typeof message&&(description=message);details=errorJSON.details;void 0!==details&&(details=serializer.decode(details))}}catch(e){}error=\"ok\"===code?null:new HttpsErrorImpl(code,description,details)}if(error)throw error;if(!response.json)throw new HttpsErrorImpl(\"internal\",\"Response is not valid JSON object.\");responseData=response.json.data;\"undefined\"===typeof responseData&&(responseData=response.json.result);if(\"undefined\"===typeof responseData)throw new HttpsErrorImpl(\"internal\",\n\"Response is missing data field.\");decodedData=this.serializer.decode(responseData);return[2,{data:decodedData}]}})})};return Service}();(function(instance,fetchImpl){var namespaceExports={Functions:Service};instance.INTERNAL.registerComponent((new _component.Component(\"functions\",function(container,_a){_a=_a.instanceIdentifier;var app=container.getProvider(\"app\").getImmediate(),authProvider=container.getProvider(\"auth-internal\"),appCheckProvider=container.getProvider(\"app-check-internal\");container=\ncontainer.getProvider(\"messaging\");return new Service(app,authProvider,container,appCheckProvider,_a,fetchImpl)},\"PUBLIC\")).setServiceProps(namespaceExports).setMultipleInstances(!0))})(global[\"default\"],fetch.bind(self));global[\"default\"].registerVersion(\"@firebase/functions\",\"0.6.14\")}","~:source","shadow$provide[\"module$node_modules$$firebase$functions$dist$index_esm\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _app = _interopRequireDefault(require(\"@firebase/app\"));\n\nvar _tslib = require(\"tslib\");\n\nvar _component = require(\"@firebase/component\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n/**\r\n * Standard error codes for different ways a request can fail, as defined by:\r\n * https://github.com/googleapis/googleapis/blob/master/google/rpc/code.proto\r\n *\r\n * This map is used primarily to convert from a backend error code string to\r\n * a client SDK error code string, and make sure it's in the supported set.\r\n */\nvar errorCodeMap = {\n  OK: 'ok',\n  CANCELLED: 'cancelled',\n  UNKNOWN: 'unknown',\n  INVALID_ARGUMENT: 'invalid-argument',\n  DEADLINE_EXCEEDED: 'deadline-exceeded',\n  NOT_FOUND: 'not-found',\n  ALREADY_EXISTS: 'already-exists',\n  PERMISSION_DENIED: 'permission-denied',\n  UNAUTHENTICATED: 'unauthenticated',\n  RESOURCE_EXHAUSTED: 'resource-exhausted',\n  FAILED_PRECONDITION: 'failed-precondition',\n  ABORTED: 'aborted',\n  OUT_OF_RANGE: 'out-of-range',\n  UNIMPLEMENTED: 'unimplemented',\n  INTERNAL: 'internal',\n  UNAVAILABLE: 'unavailable',\n  DATA_LOSS: 'data-loss'\n};\n/**\r\n * An explicit error that can be thrown from a handler to send an error to the\r\n * client that called the function.\r\n */\n\nvar HttpsErrorImpl =\n/** @class */\nfunction (_super) {\n  (0, _tslib.__extends)(HttpsErrorImpl, _super);\n\n  function HttpsErrorImpl(code, message, details) {\n    var _this = _super.call(this, message) || this; // This is a workaround for a bug in TypeScript when extending Error:\n    // tslint:disable-next-line\n    // https://github.com/Microsoft/TypeScript-wiki/blob/master/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\n\n\n    Object.setPrototypeOf(_this, HttpsErrorImpl.prototype);\n    _this.code = code;\n    _this.details = details;\n    return _this;\n  }\n\n  return HttpsErrorImpl;\n}(Error);\n/**\r\n * Takes an HTTP status code and returns the corresponding ErrorCode.\r\n * This is the standard HTTP status code -> error mapping defined in:\r\n * https://github.com/googleapis/googleapis/blob/master/google/rpc/code.proto\r\n *\r\n * @param status An HTTP status code.\r\n * @return The corresponding ErrorCode, or ErrorCode.UNKNOWN if none.\r\n */\n\n\nfunction codeForHTTPStatus(status) {\n  // Make sure any successful status is OK.\n  if (status >= 200 && status < 300) {\n    return 'ok';\n  }\n\n  switch (status) {\n    case 0:\n      // This can happen if the server returns 500.\n      return 'internal';\n\n    case 400:\n      return 'invalid-argument';\n\n    case 401:\n      return 'unauthenticated';\n\n    case 403:\n      return 'permission-denied';\n\n    case 404:\n      return 'not-found';\n\n    case 409:\n      return 'aborted';\n\n    case 429:\n      return 'resource-exhausted';\n\n    case 499:\n      return 'cancelled';\n\n    case 500:\n      return 'internal';\n\n    case 501:\n      return 'unimplemented';\n\n    case 503:\n      return 'unavailable';\n\n    case 504:\n      return 'deadline-exceeded';\n  }\n\n  return 'unknown';\n}\n/**\r\n * Takes an HTTP response and returns the corresponding Error, if any.\r\n */\n\n\nfunction _errorForResponse(status, bodyJSON, serializer) {\n  var code = codeForHTTPStatus(status); // Start with reasonable defaults from the status code.\n\n  var description = code;\n  var details = undefined; // Then look through the body for explicit details.\n\n  try {\n    var errorJSON = bodyJSON && bodyJSON.error;\n\n    if (errorJSON) {\n      var status_1 = errorJSON.status;\n\n      if (typeof status_1 === 'string') {\n        if (!errorCodeMap[status_1]) {\n          // They must've included an unknown error code in the body.\n          return new HttpsErrorImpl('internal', 'internal');\n        }\n\n        code = errorCodeMap[status_1]; // TODO(klimt): Add better default descriptions for error enums.\n        // The default description needs to be updated for the new code.\n\n        description = status_1;\n      }\n\n      var message = errorJSON.message;\n\n      if (typeof message === 'string') {\n        description = message;\n      }\n\n      details = errorJSON.details;\n\n      if (details !== undefined) {\n        details = serializer.decode(details);\n      }\n    }\n  } catch (e) {// If we couldn't parse explicit error data, that's fine.\n  }\n\n  if (code === 'ok') {\n    // Technically, there's an edge case where a developer could explicitly\n    // return an error code of OK, and we will treat it as success, but that\n    // seems reasonable.\n    return null;\n  }\n\n  return new HttpsErrorImpl(code, description, details);\n}\n/**\r\n * Helper class to get metadata that should be included with a function call.\r\n */\n\n\nvar ContextProvider =\n/** @class */\nfunction () {\n  function ContextProvider(authProvider, messagingProvider) {\n    var _this = this;\n\n    this.auth = null;\n    this.messaging = null;\n    this.auth = authProvider.getImmediate({\n      optional: true\n    });\n    this.messaging = messagingProvider.getImmediate({\n      optional: true\n    });\n\n    if (!this.auth) {\n      authProvider.get().then(function (auth) {\n        return _this.auth = auth;\n      }, function () {\n        /* get() never rejects */\n      });\n    }\n\n    if (!this.messaging) {\n      messagingProvider.get().then(function (messaging) {\n        return _this.messaging = messaging;\n      }, function () {\n        /* get() never rejects */\n      });\n    }\n  }\n\n  ContextProvider.prototype.getAuthToken = function () {\n    return (0, _tslib.__awaiter)(this, void 0, void 0, function () {\n      var token;\n      return (0, _tslib.__generator)(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (!this.auth) {\n              return [2\n              /*return*/\n              , undefined];\n            }\n\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 3,, 4]);\n\n            return [4\n            /*yield*/\n            , this.auth.getToken()];\n\n          case 2:\n            token = _a.sent();\n\n            if (!token) {\n              return [2\n              /*return*/\n              , undefined];\n            }\n\n            return [2\n            /*return*/\n            , token.accessToken];\n\n          case 3:\n            _a.sent(); // If there's any error when trying to get the auth token, leave it off.\n\n\n            return [2\n            /*return*/\n            , undefined];\n\n          case 4:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  ContextProvider.prototype.getInstanceIdToken = function () {\n    return (0, _tslib.__awaiter)(this, void 0, void 0, function () {\n      return (0, _tslib.__generator)(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (!this.messaging || !('Notification' in self) || Notification.permission !== 'granted') {\n              return [2\n              /*return*/\n              , undefined];\n            }\n\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 3,, 4]);\n\n            return [4\n            /*yield*/\n            , this.messaging.getToken()];\n\n          case 2:\n            return [2\n            /*return*/\n            , _a.sent()];\n\n          case 3:\n            _a.sent(); // We don't warn on this, because it usually means messaging isn't set up.\n            // console.warn('Failed to retrieve instance id token.', e);\n            // If there's any error when trying to get the token, leave it off.\n\n\n            return [2\n            /*return*/\n            , undefined];\n\n          case 4:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  ContextProvider.prototype.getContext = function () {\n    return (0, _tslib.__awaiter)(this, void 0, void 0, function () {\n      var authToken, instanceIdToken;\n      return (0, _tslib.__generator)(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4\n            /*yield*/\n            , this.getAuthToken()];\n\n          case 1:\n            authToken = _a.sent();\n            return [4\n            /*yield*/\n            , this.getInstanceIdToken()];\n\n          case 2:\n            instanceIdToken = _a.sent();\n            return [2\n            /*return*/\n            , {\n              authToken: authToken,\n              instanceIdToken: instanceIdToken\n            }];\n        }\n      });\n    });\n  };\n\n  return ContextProvider;\n}();\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nvar LONG_TYPE = 'type.googleapis.com/google.protobuf.Int64Value';\nvar UNSIGNED_LONG_TYPE = 'type.googleapis.com/google.protobuf.UInt64Value';\n\nfunction mapValues( // { [k: string]: unknown } is no longer a wildcard assignment target after typescript 3.5\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\no, f) {\n  var result = {};\n\n  for (var key in o) {\n    if (o.hasOwnProperty(key)) {\n      result[key] = f(o[key]);\n    }\n  }\n\n  return result;\n}\n\nvar Serializer =\n/** @class */\nfunction () {\n  function Serializer() {} // Takes data and encodes it in a JSON-friendly way, such that types such as\n  // Date are preserved.\n\n\n  Serializer.prototype.encode = function (data) {\n    var _this = this;\n\n    if (data == null) {\n      return null;\n    }\n\n    if (data instanceof Number) {\n      data = data.valueOf();\n    }\n\n    if (typeof data === 'number' && isFinite(data)) {\n      // Any number in JS is safe to put directly in JSON and parse as a double\n      // without any loss of precision.\n      return data;\n    }\n\n    if (data === true || data === false) {\n      return data;\n    }\n\n    if (Object.prototype.toString.call(data) === '[object String]') {\n      return data;\n    }\n\n    if (data instanceof Date) {\n      return data.toISOString();\n    }\n\n    if (Array.isArray(data)) {\n      return data.map(function (x) {\n        return _this.encode(x);\n      });\n    }\n\n    if (typeof data === 'function' || _typeof(data) === 'object') {\n      return mapValues(data, function (x) {\n        return _this.encode(x);\n      });\n    } // If we got this far, the data is not encodable.\n\n\n    throw new Error('Data cannot be encoded in JSON: ' + data);\n  }; // Takes data that's been encoded in a JSON-friendly form and returns a form\n  // with richer datatypes, such as Dates, etc.\n\n\n  Serializer.prototype.decode = function (json) {\n    var _this = this;\n\n    if (json == null) {\n      return json;\n    }\n\n    if (json['@type']) {\n      switch (json['@type']) {\n        case LONG_TYPE: // Fall through and handle this the same as unsigned.\n\n        case UNSIGNED_LONG_TYPE:\n          {\n            // Technically, this could work return a valid number for malformed\n            // data if there was a number followed by garbage. But it's just not\n            // worth all the extra code to detect that case.\n            var value = Number(json['value']);\n\n            if (isNaN(value)) {\n              throw new Error('Data cannot be decoded from JSON: ' + json);\n            }\n\n            return value;\n          }\n\n        default:\n          {\n            throw new Error('Data cannot be decoded from JSON: ' + json);\n          }\n      }\n    }\n\n    if (Array.isArray(json)) {\n      return json.map(function (x) {\n        return _this.decode(x);\n      });\n    }\n\n    if (typeof json === 'function' || _typeof(json) === 'object') {\n      return mapValues(json, function (x) {\n        return _this.decode(x);\n      });\n    } // Anything else is safe to return.\n\n\n    return json;\n  };\n\n  return Serializer;\n}();\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n/**\r\n * Returns a Promise that will be rejected after the given duration.\r\n * The error will be of type HttpsErrorImpl.\r\n *\r\n * @param millis Number of milliseconds to wait before rejecting.\r\n */\n\n\nfunction failAfter(millis) {\n  var timer;\n  var promise = new Promise(function (_, reject) {\n    timer = setTimeout(function () {\n      reject(new HttpsErrorImpl('deadline-exceeded', 'deadline-exceeded'));\n    }, millis);\n  });\n  return {\n    timer: timer,\n    promise: promise\n  };\n}\n/**\r\n * The main class for the Firebase Functions SDK.\r\n */\n\n\nvar Service =\n/** @class */\nfunction () {\n  /**\r\n   * Creates a new Functions service for the given app and (optional) region or custom domain.\r\n   * @param app_ The FirebaseApp to use.\r\n   * @param regionOrCustomDomain_ one of:\r\n   *   a) A region to call functions from, such as us-central1\r\n   *   b) A custom domain to use as a functions prefix, such as https://mydomain.com\r\n   */\n  function Service(app_, authProvider, messagingProvider, appCheckProvider, regionOrCustomDomain_, fetchImpl) {\n    var _this = this;\n\n    if (regionOrCustomDomain_ === void 0) {\n      regionOrCustomDomain_ = 'us-central1';\n    }\n\n    this.app_ = app_;\n    this.appCheckProvider = appCheckProvider;\n    this.fetchImpl = fetchImpl;\n    this.serializer = new Serializer();\n    this.emulatorOrigin = null;\n    this.INTERNAL = {\n      \"delete\": function _delete() {\n        return Promise.resolve(_this.deleteService());\n      }\n    };\n    this.contextProvider = new ContextProvider(authProvider, messagingProvider); // Cancels all ongoing requests when resolved.\n\n    this.cancelAllRequests = new Promise(function (resolve) {\n      _this.deleteService = function () {\n        return resolve();\n      };\n    }); // Resolve the region or custom domain overload by attempting to parse it.\n\n    try {\n      var url = new URL(regionOrCustomDomain_);\n      this.customDomain = url.origin;\n      this.region = 'us-central1';\n    } catch (e) {\n      this.customDomain = null;\n      this.region = regionOrCustomDomain_;\n    }\n  }\n\n  Object.defineProperty(Service.prototype, \"app\", {\n    get: function get() {\n      return this.app_;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\r\n   * Returns the URL for a callable with the given name.\r\n   * @param name The name of the callable.\r\n   */\n\n  Service.prototype._url = function (name) {\n    var projectId = this.app_.options.projectId;\n\n    if (this.emulatorOrigin !== null) {\n      var origin_1 = this.emulatorOrigin;\n      return origin_1 + \"/\" + projectId + \"/\" + this.region + \"/\" + name;\n    }\n\n    if (this.customDomain !== null) {\n      return this.customDomain + \"/\" + name;\n    }\n\n    return \"https://\" + this.region + \"-\" + projectId + \".cloudfunctions.net/\" + name;\n  };\n  /**\r\n   * Modify this instance to communicate with the Cloud Functions emulator.\r\n   *\r\n   * Note: this must be called before this instance has been used to do any operations.\r\n   *\r\n   * @param host The emulator host (ex: localhost)\r\n   * @param port The emulator port (ex: 5001)\r\n   */\n\n\n  Service.prototype.useEmulator = function (host, port) {\n    this.emulatorOrigin = \"http://\" + host + \":\" + port;\n  };\n  /**\r\n   * Changes this instance to point to a Cloud Functions emulator running\r\n   * locally. See https://firebase.google.com/docs/functions/local-emulator\r\n   *\r\n   * @deprecated Prefer the useEmulator(host, port) method.\r\n   * @param origin The origin of the local emulator, such as\r\n   * \"http://localhost:5005\".\r\n   */\n\n\n  Service.prototype.useFunctionsEmulator = function (origin) {\n    this.emulatorOrigin = origin;\n  };\n  /**\r\n   * Returns a reference to the callable https trigger with the given name.\r\n   * @param name The name of the trigger.\r\n   */\n\n\n  Service.prototype.httpsCallable = function (name, options) {\n    var _this = this;\n\n    return function (data) {\n      return _this.call(name, data, options || {});\n    };\n  };\n  /**\r\n   * Does an HTTP POST and returns the completed response.\r\n   * @param url The url to post to.\r\n   * @param body The JSON body of the post.\r\n   * @param headers The HTTP headers to include in the request.\r\n   * @return A Promise that will succeed when the request finishes.\r\n   */\n\n\n  Service.prototype.postJSON = function (url, body, headers) {\n    return (0, _tslib.__awaiter)(this, void 0, void 0, function () {\n      var appCheckToken, response, json;\n      return (0, _tslib.__generator)(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            headers['Content-Type'] = 'application/json';\n            return [4\n            /*yield*/\n            , this.getAppCheckToken()];\n\n          case 1:\n            appCheckToken = _a.sent();\n\n            if (appCheckToken !== null) {\n              headers['X-Firebase-AppCheck'] = appCheckToken;\n            }\n\n            _a.label = 2;\n\n          case 2:\n            _a.trys.push([2, 4,, 5]);\n\n            return [4\n            /*yield*/\n            , this.fetchImpl(url, {\n              method: 'POST',\n              body: JSON.stringify(body),\n              headers: headers\n            })];\n\n          case 3:\n            response = _a.sent();\n            return [3\n            /*break*/\n            , 5];\n\n          case 4:\n            _a.sent(); // This could be an unhandled error on the backend, or it could be a\n            // network error. There's no way to know, since an unhandled error on the\n            // backend will fail to set the proper CORS header, and thus will be\n            // treated as a network error by fetch.\n\n\n            return [2\n            /*return*/\n            , {\n              status: 0,\n              json: null\n            }];\n\n          case 5:\n            json = null;\n            _a.label = 6;\n\n          case 6:\n            _a.trys.push([6, 8,, 9]);\n\n            return [4\n            /*yield*/\n            , response.json()];\n\n          case 7:\n            json = _a.sent();\n            return [3\n            /*break*/\n            , 9];\n\n          case 8:\n            _a.sent();\n\n            return [3\n            /*break*/\n            , 9];\n\n          case 9:\n            return [2\n            /*return*/\n            , {\n              status: response.status,\n              json: json\n            }];\n        }\n      });\n    });\n  };\n\n  Service.prototype.getAppCheckToken = function () {\n    return (0, _tslib.__awaiter)(this, void 0, void 0, function () {\n      var appCheck, result;\n      return (0, _tslib.__generator)(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            appCheck = this.appCheckProvider.getImmediate({\n              optional: true\n            });\n            if (!appCheck) return [3\n            /*break*/\n            , 2];\n            return [4\n            /*yield*/\n            , appCheck.getToken()];\n\n          case 1:\n            result = _a.sent(); // If getToken() fails, it will still return a dummy token that also has\n            // an error field containing the error message. We will send any token\n            // provided here and show an error if/when it is rejected by the functions\n            // endpoint.\n\n            return [2\n            /*return*/\n            , result.token];\n\n          case 2:\n            return [2\n            /*return*/\n            , null];\n        }\n      });\n    });\n  };\n  /**\r\n   * Calls a callable function asynchronously and returns the result.\r\n   * @param name The name of the callable trigger.\r\n   * @param data The data to pass as params to the function.s\r\n   */\n\n\n  Service.prototype.call = function (name, data, options) {\n    return (0, _tslib.__awaiter)(this, void 0, void 0, function () {\n      var url, body, headers, context, timeout, _a, timer, failAfterPromise, response, error, responseData, decodedData;\n\n      return (0, _tslib.__generator)(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            url = this._url(name); // Encode any special types, such as dates, in the input data.\n\n            data = this.serializer.encode(data);\n            body = {\n              data: data\n            };\n            headers = {};\n            return [4\n            /*yield*/\n            , this.contextProvider.getContext()];\n\n          case 1:\n            context = _b.sent();\n\n            if (context.authToken) {\n              headers['Authorization'] = 'Bearer ' + context.authToken;\n            }\n\n            if (context.instanceIdToken) {\n              headers['Firebase-Instance-ID-Token'] = context.instanceIdToken;\n            }\n\n            timeout = options.timeout || 70000;\n            _a = failAfter(timeout), timer = _a.timer, failAfterPromise = _a.promise;\n            return [4\n            /*yield*/\n            , Promise.race([clearTimeoutWrapper(timer, this.postJSON(url, body, headers)), failAfterPromise, clearTimeoutWrapper(timer, this.cancelAllRequests)])];\n\n          case 2:\n            response = _b.sent(); // If service was deleted, interrupted response throws an error.\n\n            if (!response) {\n              throw new HttpsErrorImpl('cancelled', 'Firebase Functions instance was deleted.');\n            }\n\n            error = _errorForResponse(response.status, response.json, this.serializer);\n\n            if (error) {\n              throw error;\n            }\n\n            if (!response.json) {\n              throw new HttpsErrorImpl('internal', 'Response is not valid JSON object.');\n            }\n\n            responseData = response.json.data; // TODO(klimt): For right now, allow \"result\" instead of \"data\", for\n            // backwards compatibility.\n\n            if (typeof responseData === 'undefined') {\n              responseData = response.json.result;\n            }\n\n            if (typeof responseData === 'undefined') {\n              // Consider the response malformed.\n              throw new HttpsErrorImpl('internal', 'Response is missing data field.');\n            }\n\n            decodedData = this.serializer.decode(responseData);\n            return [2\n            /*return*/\n            , {\n              data: decodedData\n            }];\n        }\n      });\n    });\n  };\n\n  return Service;\n}();\n\nfunction clearTimeoutWrapper(timer, promise) {\n  return (0, _tslib.__awaiter)(this, void 0, void 0, function () {\n    var result;\n    return (0, _tslib.__generator)(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          return [4\n          /*yield*/\n          , promise];\n\n        case 1:\n          result = _a.sent(); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n          clearTimeout(timer);\n          return [2\n          /*return*/\n          , result];\n      }\n    });\n  });\n}\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n/**\r\n * Type constant for Firebase Functions.\r\n */\n\n\nvar FUNCTIONS_TYPE = 'functions';\n\nfunction registerFunctions(instance, fetchImpl) {\n  var namespaceExports = {\n    // no-inline\n    Functions: Service\n  };\n\n  function factory(container, _a) {\n    var regionOrCustomDomain = _a.instanceIdentifier; // Dependencies\n\n    var app = container.getProvider('app').getImmediate();\n    var authProvider = container.getProvider('auth-internal');\n    var appCheckProvider = container.getProvider('app-check-internal');\n    var messagingProvider = container.getProvider('messaging'); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n    return new Service(app, authProvider, messagingProvider, appCheckProvider, regionOrCustomDomain, fetchImpl);\n  }\n\n  instance.INTERNAL.registerComponent(new _component.Component(FUNCTIONS_TYPE, factory, \"PUBLIC\"\n  /* PUBLIC */\n  ).setServiceProps(namespaceExports).setMultipleInstances(true));\n}\n\nvar name = \"@firebase/functions\";\nvar version = \"0.6.14\";\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\nregisterFunctions(_app[\"default\"], fetch.bind(self));\n\n_app[\"default\"].registerVersion(name, version);\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$module$node_modules$tslib$tslib","~$shadow.js","~$module$node_modules$$firebase$app$dist$index_esm","~$module$node_modules$$firebase$component$dist$index_esm"]],"~:properties",["^5",["getInstanceIdToken","json","Functions","UNKNOWN","emulatorOrigin","promise","_url","fetchImpl","call","deleteService","optional","body","appCheckProvider","RESOURCE_EXHAUSTED","label","decode","method","instanceIdToken","auth","INVALID_ARGUMENT","DATA_LOSS","contextProvider","configurable","enumerable","authToken","UNAUTHENTICATED","status","region","cancelAllRequests","OK","messaging","FAILED_PRECONDITION","UNAVAILABLE","ALREADY_EXISTS","getContext","serializer","app_","app","INTERNAL","httpsCallable","NOT_FOUND","getAppCheckToken","details","UNIMPLEMENTED","DEADLINE_EXCEEDED","CANCELLED","ABORTED","PERMISSION_DENIED","useFunctionsEmulator","useEmulator","getAuthToken","OUT_OF_RANGE","customDomain","data","get","postJSON","encode","code","timer","headers"]],"~:compiled-at",1627823146963,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$$firebase$functions$dist$index_esm.js\",\n\"lineCount\":21,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/@firebase/functions/dist/index.esm.js\"],\n\"sourcesContent\":[\"shadow$provide[\\\"module$node_modules$$firebase$functions$dist$index_esm\\\"] = function(global,require,module,exports) {\\n\\\"use strict\\\";\\n\\nvar _app = _interopRequireDefault(require(\\\"@firebase/app\\\"));\\n\\nvar _tslib = require(\\\"tslib\\\");\\n\\nvar _component = require(\\\"@firebase/component\\\");\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \\\"default\\\": obj }; }\\n\\nfunction _typeof(obj) { if (typeof Symbol === \\\"function\\\" && typeof Symbol.iterator === \\\"symbol\\\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \\\"function\\\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \\\"symbol\\\" : typeof obj; }; } return _typeof(obj); }\\n\\n/**\\r\\n * @license\\r\\n * Copyright 2017 Google LLC\\r\\n *\\r\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\r\\n * you may not use this file except in compliance with the License.\\r\\n * You may obtain a copy of the License at\\r\\n *\\r\\n *   http://www.apache.org/licenses/LICENSE-2.0\\r\\n *\\r\\n * Unless required by applicable law or agreed to in writing, software\\r\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\r\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\r\\n * See the License for the specific language governing permissions and\\r\\n * limitations under the License.\\r\\n */\\n\\n/**\\r\\n * Standard error codes for different ways a request can fail, as defined by:\\r\\n * https://github.com/googleapis/googleapis/blob/master/google/rpc/code.proto\\r\\n *\\r\\n * This map is used primarily to convert from a backend error code string to\\r\\n * a client SDK error code string, and make sure it's in the supported set.\\r\\n */\\nvar errorCodeMap = {\\n  OK: 'ok',\\n  CANCELLED: 'cancelled',\\n  UNKNOWN: 'unknown',\\n  INVALID_ARGUMENT: 'invalid-argument',\\n  DEADLINE_EXCEEDED: 'deadline-exceeded',\\n  NOT_FOUND: 'not-found',\\n  ALREADY_EXISTS: 'already-exists',\\n  PERMISSION_DENIED: 'permission-denied',\\n  UNAUTHENTICATED: 'unauthenticated',\\n  RESOURCE_EXHAUSTED: 'resource-exhausted',\\n  FAILED_PRECONDITION: 'failed-precondition',\\n  ABORTED: 'aborted',\\n  OUT_OF_RANGE: 'out-of-range',\\n  UNIMPLEMENTED: 'unimplemented',\\n  INTERNAL: 'internal',\\n  UNAVAILABLE: 'unavailable',\\n  DATA_LOSS: 'data-loss'\\n};\\n/**\\r\\n * An explicit error that can be thrown from a handler to send an error to the\\r\\n * client that called the function.\\r\\n */\\n\\nvar HttpsErrorImpl =\\n/** @class */\\nfunction (_super) {\\n  (0, _tslib.__extends)(HttpsErrorImpl, _super);\\n\\n  function HttpsErrorImpl(code, message, details) {\\n    var _this = _super.call(this, message) || this; // This is a workaround for a bug in TypeScript when extending Error:\\n    // tslint:disable-next-line\\n    // https://github.com/Microsoft/TypeScript-wiki/blob/master/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\\n\\n\\n    Object.setPrototypeOf(_this, HttpsErrorImpl.prototype);\\n    _this.code = code;\\n    _this.details = details;\\n    return _this;\\n  }\\n\\n  return HttpsErrorImpl;\\n}(Error);\\n/**\\r\\n * Takes an HTTP status code and returns the corresponding ErrorCode.\\r\\n * This is the standard HTTP status code -> error mapping defined in:\\r\\n * https://github.com/googleapis/googleapis/blob/master/google/rpc/code.proto\\r\\n *\\r\\n * @param status An HTTP status code.\\r\\n * @return The corresponding ErrorCode, or ErrorCode.UNKNOWN if none.\\r\\n */\\n\\n\\nfunction codeForHTTPStatus(status) {\\n  // Make sure any successful status is OK.\\n  if (status >= 200 && status < 300) {\\n    return 'ok';\\n  }\\n\\n  switch (status) {\\n    case 0:\\n      // This can happen if the server returns 500.\\n      return 'internal';\\n\\n    case 400:\\n      return 'invalid-argument';\\n\\n    case 401:\\n      return 'unauthenticated';\\n\\n    case 403:\\n      return 'permission-denied';\\n\\n    case 404:\\n      return 'not-found';\\n\\n    case 409:\\n      return 'aborted';\\n\\n    case 429:\\n      return 'resource-exhausted';\\n\\n    case 499:\\n      return 'cancelled';\\n\\n    case 500:\\n      return 'internal';\\n\\n    case 501:\\n      return 'unimplemented';\\n\\n    case 503:\\n      return 'unavailable';\\n\\n    case 504:\\n      return 'deadline-exceeded';\\n  }\\n\\n  return 'unknown';\\n}\\n/**\\r\\n * Takes an HTTP response and returns the corresponding Error, if any.\\r\\n */\\n\\n\\nfunction _errorForResponse(status, bodyJSON, serializer) {\\n  var code = codeForHTTPStatus(status); // Start with reasonable defaults from the status code.\\n\\n  var description = code;\\n  var details = undefined; // Then look through the body for explicit details.\\n\\n  try {\\n    var errorJSON = bodyJSON && bodyJSON.error;\\n\\n    if (errorJSON) {\\n      var status_1 = errorJSON.status;\\n\\n      if (typeof status_1 === 'string') {\\n        if (!errorCodeMap[status_1]) {\\n          // They must've included an unknown error code in the body.\\n          return new HttpsErrorImpl('internal', 'internal');\\n        }\\n\\n        code = errorCodeMap[status_1]; // TODO(klimt): Add better default descriptions for error enums.\\n        // The default description needs to be updated for the new code.\\n\\n        description = status_1;\\n      }\\n\\n      var message = errorJSON.message;\\n\\n      if (typeof message === 'string') {\\n        description = message;\\n      }\\n\\n      details = errorJSON.details;\\n\\n      if (details !== undefined) {\\n        details = serializer.decode(details);\\n      }\\n    }\\n  } catch (e) {// If we couldn't parse explicit error data, that's fine.\\n  }\\n\\n  if (code === 'ok') {\\n    // Technically, there's an edge case where a developer could explicitly\\n    // return an error code of OK, and we will treat it as success, but that\\n    // seems reasonable.\\n    return null;\\n  }\\n\\n  return new HttpsErrorImpl(code, description, details);\\n}\\n/**\\r\\n * Helper class to get metadata that should be included with a function call.\\r\\n */\\n\\n\\nvar ContextProvider =\\n/** @class */\\nfunction () {\\n  function ContextProvider(authProvider, messagingProvider) {\\n    var _this = this;\\n\\n    this.auth = null;\\n    this.messaging = null;\\n    this.auth = authProvider.getImmediate({\\n      optional: true\\n    });\\n    this.messaging = messagingProvider.getImmediate({\\n      optional: true\\n    });\\n\\n    if (!this.auth) {\\n      authProvider.get().then(function (auth) {\\n        return _this.auth = auth;\\n      }, function () {\\n        /* get() never rejects */\\n      });\\n    }\\n\\n    if (!this.messaging) {\\n      messagingProvider.get().then(function (messaging) {\\n        return _this.messaging = messaging;\\n      }, function () {\\n        /* get() never rejects */\\n      });\\n    }\\n  }\\n\\n  ContextProvider.prototype.getAuthToken = function () {\\n    return (0, _tslib.__awaiter)(this, void 0, void 0, function () {\\n      var token;\\n      return (0, _tslib.__generator)(this, function (_a) {\\n        switch (_a.label) {\\n          case 0:\\n            if (!this.auth) {\\n              return [2\\n              /*return*/\\n              , undefined];\\n            }\\n\\n            _a.label = 1;\\n\\n          case 1:\\n            _a.trys.push([1, 3,, 4]);\\n\\n            return [4\\n            /*yield*/\\n            , this.auth.getToken()];\\n\\n          case 2:\\n            token = _a.sent();\\n\\n            if (!token) {\\n              return [2\\n              /*return*/\\n              , undefined];\\n            }\\n\\n            return [2\\n            /*return*/\\n            , token.accessToken];\\n\\n          case 3:\\n            _a.sent(); // If there's any error when trying to get the auth token, leave it off.\\n\\n\\n            return [2\\n            /*return*/\\n            , undefined];\\n\\n          case 4:\\n            return [2\\n            /*return*/\\n            ];\\n        }\\n      });\\n    });\\n  };\\n\\n  ContextProvider.prototype.getInstanceIdToken = function () {\\n    return (0, _tslib.__awaiter)(this, void 0, void 0, function () {\\n      return (0, _tslib.__generator)(this, function (_a) {\\n        switch (_a.label) {\\n          case 0:\\n            if (!this.messaging || !('Notification' in self) || Notification.permission !== 'granted') {\\n              return [2\\n              /*return*/\\n              , undefined];\\n            }\\n\\n            _a.label = 1;\\n\\n          case 1:\\n            _a.trys.push([1, 3,, 4]);\\n\\n            return [4\\n            /*yield*/\\n            , this.messaging.getToken()];\\n\\n          case 2:\\n            return [2\\n            /*return*/\\n            , _a.sent()];\\n\\n          case 3:\\n            _a.sent(); // We don't warn on this, because it usually means messaging isn't set up.\\n            // console.warn('Failed to retrieve instance id token.', e);\\n            // If there's any error when trying to get the token, leave it off.\\n\\n\\n            return [2\\n            /*return*/\\n            , undefined];\\n\\n          case 4:\\n            return [2\\n            /*return*/\\n            ];\\n        }\\n      });\\n    });\\n  };\\n\\n  ContextProvider.prototype.getContext = function () {\\n    return (0, _tslib.__awaiter)(this, void 0, void 0, function () {\\n      var authToken, instanceIdToken;\\n      return (0, _tslib.__generator)(this, function (_a) {\\n        switch (_a.label) {\\n          case 0:\\n            return [4\\n            /*yield*/\\n            , this.getAuthToken()];\\n\\n          case 1:\\n            authToken = _a.sent();\\n            return [4\\n            /*yield*/\\n            , this.getInstanceIdToken()];\\n\\n          case 2:\\n            instanceIdToken = _a.sent();\\n            return [2\\n            /*return*/\\n            , {\\n              authToken: authToken,\\n              instanceIdToken: instanceIdToken\\n            }];\\n        }\\n      });\\n    });\\n  };\\n\\n  return ContextProvider;\\n}();\\n/**\\r\\n * @license\\r\\n * Copyright 2017 Google LLC\\r\\n *\\r\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\r\\n * you may not use this file except in compliance with the License.\\r\\n * You may obtain a copy of the License at\\r\\n *\\r\\n *   http://www.apache.org/licenses/LICENSE-2.0\\r\\n *\\r\\n * Unless required by applicable law or agreed to in writing, software\\r\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\r\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\r\\n * See the License for the specific language governing permissions and\\r\\n * limitations under the License.\\r\\n */\\n\\n\\nvar LONG_TYPE = 'type.googleapis.com/google.protobuf.Int64Value';\\nvar UNSIGNED_LONG_TYPE = 'type.googleapis.com/google.protobuf.UInt64Value';\\n\\nfunction mapValues( // { [k: string]: unknown } is no longer a wildcard assignment target after typescript 3.5\\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\\no, f) {\\n  var result = {};\\n\\n  for (var key in o) {\\n    if (o.hasOwnProperty(key)) {\\n      result[key] = f(o[key]);\\n    }\\n  }\\n\\n  return result;\\n}\\n\\nvar Serializer =\\n/** @class */\\nfunction () {\\n  function Serializer() {} // Takes data and encodes it in a JSON-friendly way, such that types such as\\n  // Date are preserved.\\n\\n\\n  Serializer.prototype.encode = function (data) {\\n    var _this = this;\\n\\n    if (data == null) {\\n      return null;\\n    }\\n\\n    if (data instanceof Number) {\\n      data = data.valueOf();\\n    }\\n\\n    if (typeof data === 'number' && isFinite(data)) {\\n      // Any number in JS is safe to put directly in JSON and parse as a double\\n      // without any loss of precision.\\n      return data;\\n    }\\n\\n    if (data === true || data === false) {\\n      return data;\\n    }\\n\\n    if (Object.prototype.toString.call(data) === '[object String]') {\\n      return data;\\n    }\\n\\n    if (data instanceof Date) {\\n      return data.toISOString();\\n    }\\n\\n    if (Array.isArray(data)) {\\n      return data.map(function (x) {\\n        return _this.encode(x);\\n      });\\n    }\\n\\n    if (typeof data === 'function' || _typeof(data) === 'object') {\\n      return mapValues(data, function (x) {\\n        return _this.encode(x);\\n      });\\n    } // If we got this far, the data is not encodable.\\n\\n\\n    throw new Error('Data cannot be encoded in JSON: ' + data);\\n  }; // Takes data that's been encoded in a JSON-friendly form and returns a form\\n  // with richer datatypes, such as Dates, etc.\\n\\n\\n  Serializer.prototype.decode = function (json) {\\n    var _this = this;\\n\\n    if (json == null) {\\n      return json;\\n    }\\n\\n    if (json['@type']) {\\n      switch (json['@type']) {\\n        case LONG_TYPE: // Fall through and handle this the same as unsigned.\\n\\n        case UNSIGNED_LONG_TYPE:\\n          {\\n            // Technically, this could work return a valid number for malformed\\n            // data if there was a number followed by garbage. But it's just not\\n            // worth all the extra code to detect that case.\\n            var value = Number(json['value']);\\n\\n            if (isNaN(value)) {\\n              throw new Error('Data cannot be decoded from JSON: ' + json);\\n            }\\n\\n            return value;\\n          }\\n\\n        default:\\n          {\\n            throw new Error('Data cannot be decoded from JSON: ' + json);\\n          }\\n      }\\n    }\\n\\n    if (Array.isArray(json)) {\\n      return json.map(function (x) {\\n        return _this.decode(x);\\n      });\\n    }\\n\\n    if (typeof json === 'function' || _typeof(json) === 'object') {\\n      return mapValues(json, function (x) {\\n        return _this.decode(x);\\n      });\\n    } // Anything else is safe to return.\\n\\n\\n    return json;\\n  };\\n\\n  return Serializer;\\n}();\\n/**\\r\\n * @license\\r\\n * Copyright 2017 Google LLC\\r\\n *\\r\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\r\\n * you may not use this file except in compliance with the License.\\r\\n * You may obtain a copy of the License at\\r\\n *\\r\\n *   http://www.apache.org/licenses/LICENSE-2.0\\r\\n *\\r\\n * Unless required by applicable law or agreed to in writing, software\\r\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\r\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\r\\n * See the License for the specific language governing permissions and\\r\\n * limitations under the License.\\r\\n */\\n\\n/**\\r\\n * Returns a Promise that will be rejected after the given duration.\\r\\n * The error will be of type HttpsErrorImpl.\\r\\n *\\r\\n * @param millis Number of milliseconds to wait before rejecting.\\r\\n */\\n\\n\\nfunction failAfter(millis) {\\n  var timer;\\n  var promise = new Promise(function (_, reject) {\\n    timer = setTimeout(function () {\\n      reject(new HttpsErrorImpl('deadline-exceeded', 'deadline-exceeded'));\\n    }, millis);\\n  });\\n  return {\\n    timer: timer,\\n    promise: promise\\n  };\\n}\\n/**\\r\\n * The main class for the Firebase Functions SDK.\\r\\n */\\n\\n\\nvar Service =\\n/** @class */\\nfunction () {\\n  /**\\r\\n   * Creates a new Functions service for the given app and (optional) region or custom domain.\\r\\n   * @param app_ The FirebaseApp to use.\\r\\n   * @param regionOrCustomDomain_ one of:\\r\\n   *   a) A region to call functions from, such as us-central1\\r\\n   *   b) A custom domain to use as a functions prefix, such as https://mydomain.com\\r\\n   */\\n  function Service(app_, authProvider, messagingProvider, appCheckProvider, regionOrCustomDomain_, fetchImpl) {\\n    var _this = this;\\n\\n    if (regionOrCustomDomain_ === void 0) {\\n      regionOrCustomDomain_ = 'us-central1';\\n    }\\n\\n    this.app_ = app_;\\n    this.appCheckProvider = appCheckProvider;\\n    this.fetchImpl = fetchImpl;\\n    this.serializer = new Serializer();\\n    this.emulatorOrigin = null;\\n    this.INTERNAL = {\\n      \\\"delete\\\": function _delete() {\\n        return Promise.resolve(_this.deleteService());\\n      }\\n    };\\n    this.contextProvider = new ContextProvider(authProvider, messagingProvider); // Cancels all ongoing requests when resolved.\\n\\n    this.cancelAllRequests = new Promise(function (resolve) {\\n      _this.deleteService = function () {\\n        return resolve();\\n      };\\n    }); // Resolve the region or custom domain overload by attempting to parse it.\\n\\n    try {\\n      var url = new URL(regionOrCustomDomain_);\\n      this.customDomain = url.origin;\\n      this.region = 'us-central1';\\n    } catch (e) {\\n      this.customDomain = null;\\n      this.region = regionOrCustomDomain_;\\n    }\\n  }\\n\\n  Object.defineProperty(Service.prototype, \\\"app\\\", {\\n    get: function get() {\\n      return this.app_;\\n    },\\n    enumerable: false,\\n    configurable: true\\n  });\\n  /**\\r\\n   * Returns the URL for a callable with the given name.\\r\\n   * @param name The name of the callable.\\r\\n   */\\n\\n  Service.prototype._url = function (name) {\\n    var projectId = this.app_.options.projectId;\\n\\n    if (this.emulatorOrigin !== null) {\\n      var origin_1 = this.emulatorOrigin;\\n      return origin_1 + \\\"/\\\" + projectId + \\\"/\\\" + this.region + \\\"/\\\" + name;\\n    }\\n\\n    if (this.customDomain !== null) {\\n      return this.customDomain + \\\"/\\\" + name;\\n    }\\n\\n    return \\\"https://\\\" + this.region + \\\"-\\\" + projectId + \\\".cloudfunctions.net/\\\" + name;\\n  };\\n  /**\\r\\n   * Modify this instance to communicate with the Cloud Functions emulator.\\r\\n   *\\r\\n   * Note: this must be called before this instance has been used to do any operations.\\r\\n   *\\r\\n   * @param host The emulator host (ex: localhost)\\r\\n   * @param port The emulator port (ex: 5001)\\r\\n   */\\n\\n\\n  Service.prototype.useEmulator = function (host, port) {\\n    this.emulatorOrigin = \\\"http://\\\" + host + \\\":\\\" + port;\\n  };\\n  /**\\r\\n   * Changes this instance to point to a Cloud Functions emulator running\\r\\n   * locally. See https://firebase.google.com/docs/functions/local-emulator\\r\\n   *\\r\\n   * @deprecated Prefer the useEmulator(host, port) method.\\r\\n   * @param origin The origin of the local emulator, such as\\r\\n   * \\\"http://localhost:5005\\\".\\r\\n   */\\n\\n\\n  Service.prototype.useFunctionsEmulator = function (origin) {\\n    this.emulatorOrigin = origin;\\n  };\\n  /**\\r\\n   * Returns a reference to the callable https trigger with the given name.\\r\\n   * @param name The name of the trigger.\\r\\n   */\\n\\n\\n  Service.prototype.httpsCallable = function (name, options) {\\n    var _this = this;\\n\\n    return function (data) {\\n      return _this.call(name, data, options || {});\\n    };\\n  };\\n  /**\\r\\n   * Does an HTTP POST and returns the completed response.\\r\\n   * @param url The url to post to.\\r\\n   * @param body The JSON body of the post.\\r\\n   * @param headers The HTTP headers to include in the request.\\r\\n   * @return A Promise that will succeed when the request finishes.\\r\\n   */\\n\\n\\n  Service.prototype.postJSON = function (url, body, headers) {\\n    return (0, _tslib.__awaiter)(this, void 0, void 0, function () {\\n      var appCheckToken, response, json;\\n      return (0, _tslib.__generator)(this, function (_a) {\\n        switch (_a.label) {\\n          case 0:\\n            headers['Content-Type'] = 'application/json';\\n            return [4\\n            /*yield*/\\n            , this.getAppCheckToken()];\\n\\n          case 1:\\n            appCheckToken = _a.sent();\\n\\n            if (appCheckToken !== null) {\\n              headers['X-Firebase-AppCheck'] = appCheckToken;\\n            }\\n\\n            _a.label = 2;\\n\\n          case 2:\\n            _a.trys.push([2, 4,, 5]);\\n\\n            return [4\\n            /*yield*/\\n            , this.fetchImpl(url, {\\n              method: 'POST',\\n              body: JSON.stringify(body),\\n              headers: headers\\n            })];\\n\\n          case 3:\\n            response = _a.sent();\\n            return [3\\n            /*break*/\\n            , 5];\\n\\n          case 4:\\n            _a.sent(); // This could be an unhandled error on the backend, or it could be a\\n            // network error. There's no way to know, since an unhandled error on the\\n            // backend will fail to set the proper CORS header, and thus will be\\n            // treated as a network error by fetch.\\n\\n\\n            return [2\\n            /*return*/\\n            , {\\n              status: 0,\\n              json: null\\n            }];\\n\\n          case 5:\\n            json = null;\\n            _a.label = 6;\\n\\n          case 6:\\n            _a.trys.push([6, 8,, 9]);\\n\\n            return [4\\n            /*yield*/\\n            , response.json()];\\n\\n          case 7:\\n            json = _a.sent();\\n            return [3\\n            /*break*/\\n            , 9];\\n\\n          case 8:\\n            _a.sent();\\n\\n            return [3\\n            /*break*/\\n            , 9];\\n\\n          case 9:\\n            return [2\\n            /*return*/\\n            , {\\n              status: response.status,\\n              json: json\\n            }];\\n        }\\n      });\\n    });\\n  };\\n\\n  Service.prototype.getAppCheckToken = function () {\\n    return (0, _tslib.__awaiter)(this, void 0, void 0, function () {\\n      var appCheck, result;\\n      return (0, _tslib.__generator)(this, function (_a) {\\n        switch (_a.label) {\\n          case 0:\\n            appCheck = this.appCheckProvider.getImmediate({\\n              optional: true\\n            });\\n            if (!appCheck) return [3\\n            /*break*/\\n            , 2];\\n            return [4\\n            /*yield*/\\n            , appCheck.getToken()];\\n\\n          case 1:\\n            result = _a.sent(); // If getToken() fails, it will still return a dummy token that also has\\n            // an error field containing the error message. We will send any token\\n            // provided here and show an error if/when it is rejected by the functions\\n            // endpoint.\\n\\n            return [2\\n            /*return*/\\n            , result.token];\\n\\n          case 2:\\n            return [2\\n            /*return*/\\n            , null];\\n        }\\n      });\\n    });\\n  };\\n  /**\\r\\n   * Calls a callable function asynchronously and returns the result.\\r\\n   * @param name The name of the callable trigger.\\r\\n   * @param data The data to pass as params to the function.s\\r\\n   */\\n\\n\\n  Service.prototype.call = function (name, data, options) {\\n    return (0, _tslib.__awaiter)(this, void 0, void 0, function () {\\n      var url, body, headers, context, timeout, _a, timer, failAfterPromise, response, error, responseData, decodedData;\\n\\n      return (0, _tslib.__generator)(this, function (_b) {\\n        switch (_b.label) {\\n          case 0:\\n            url = this._url(name); // Encode any special types, such as dates, in the input data.\\n\\n            data = this.serializer.encode(data);\\n            body = {\\n              data: data\\n            };\\n            headers = {};\\n            return [4\\n            /*yield*/\\n            , this.contextProvider.getContext()];\\n\\n          case 1:\\n            context = _b.sent();\\n\\n            if (context.authToken) {\\n              headers['Authorization'] = 'Bearer ' + context.authToken;\\n            }\\n\\n            if (context.instanceIdToken) {\\n              headers['Firebase-Instance-ID-Token'] = context.instanceIdToken;\\n            }\\n\\n            timeout = options.timeout || 70000;\\n            _a = failAfter(timeout), timer = _a.timer, failAfterPromise = _a.promise;\\n            return [4\\n            /*yield*/\\n            , Promise.race([clearTimeoutWrapper(timer, this.postJSON(url, body, headers)), failAfterPromise, clearTimeoutWrapper(timer, this.cancelAllRequests)])];\\n\\n          case 2:\\n            response = _b.sent(); // If service was deleted, interrupted response throws an error.\\n\\n            if (!response) {\\n              throw new HttpsErrorImpl('cancelled', 'Firebase Functions instance was deleted.');\\n            }\\n\\n            error = _errorForResponse(response.status, response.json, this.serializer);\\n\\n            if (error) {\\n              throw error;\\n            }\\n\\n            if (!response.json) {\\n              throw new HttpsErrorImpl('internal', 'Response is not valid JSON object.');\\n            }\\n\\n            responseData = response.json.data; // TODO(klimt): For right now, allow \\\"result\\\" instead of \\\"data\\\", for\\n            // backwards compatibility.\\n\\n            if (typeof responseData === 'undefined') {\\n              responseData = response.json.result;\\n            }\\n\\n            if (typeof responseData === 'undefined') {\\n              // Consider the response malformed.\\n              throw new HttpsErrorImpl('internal', 'Response is missing data field.');\\n            }\\n\\n            decodedData = this.serializer.decode(responseData);\\n            return [2\\n            /*return*/\\n            , {\\n              data: decodedData\\n            }];\\n        }\\n      });\\n    });\\n  };\\n\\n  return Service;\\n}();\\n\\nfunction clearTimeoutWrapper(timer, promise) {\\n  return (0, _tslib.__awaiter)(this, void 0, void 0, function () {\\n    var result;\\n    return (0, _tslib.__generator)(this, function (_a) {\\n      switch (_a.label) {\\n        case 0:\\n          return [4\\n          /*yield*/\\n          , promise];\\n\\n        case 1:\\n          result = _a.sent(); // eslint-disable-next-line @typescript-eslint/no-explicit-any\\n\\n          clearTimeout(timer);\\n          return [2\\n          /*return*/\\n          , result];\\n      }\\n    });\\n  });\\n}\\n/**\\r\\n * @license\\r\\n * Copyright 2019 Google LLC\\r\\n *\\r\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\r\\n * you may not use this file except in compliance with the License.\\r\\n * You may obtain a copy of the License at\\r\\n *\\r\\n *   http://www.apache.org/licenses/LICENSE-2.0\\r\\n *\\r\\n * Unless required by applicable law or agreed to in writing, software\\r\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\r\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\r\\n * See the License for the specific language governing permissions and\\r\\n * limitations under the License.\\r\\n */\\n\\n/**\\r\\n * Type constant for Firebase Functions.\\r\\n */\\n\\n\\nvar FUNCTIONS_TYPE = 'functions';\\n\\nfunction registerFunctions(instance, fetchImpl) {\\n  var namespaceExports = {\\n    // no-inline\\n    Functions: Service\\n  };\\n\\n  function factory(container, _a) {\\n    var regionOrCustomDomain = _a.instanceIdentifier; // Dependencies\\n\\n    var app = container.getProvider('app').getImmediate();\\n    var authProvider = container.getProvider('auth-internal');\\n    var appCheckProvider = container.getProvider('app-check-internal');\\n    var messagingProvider = container.getProvider('messaging'); // eslint-disable-next-line @typescript-eslint/no-explicit-any\\n\\n    return new Service(app, authProvider, messagingProvider, appCheckProvider, regionOrCustomDomain, fetchImpl);\\n  }\\n\\n  instance.INTERNAL.registerComponent(new _component.Component(FUNCTIONS_TYPE, factory, \\\"PUBLIC\\\"\\n  /* PUBLIC */\\n  ).setServiceProps(namespaceExports).setMultipleInstances(true));\\n}\\n\\nvar name = \\\"@firebase/functions\\\";\\nvar version = \\\"0.6.14\\\";\\n/**\\r\\n * @license\\r\\n * Copyright 2017 Google LLC\\r\\n *\\r\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\r\\n * you may not use this file except in compliance with the License.\\r\\n * You may obtain a copy of the License at\\r\\n *\\r\\n *   http://www.apache.org/licenses/LICENSE-2.0\\r\\n *\\r\\n * Unless required by applicable law or agreed to in writing, software\\r\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\r\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\r\\n * See the License for the specific language governing permissions and\\r\\n * limitations under the License.\\r\\n */\\n\\nregisterFunctions(_app[\\\"default\\\"], fetch.bind(self));\\n\\n_app[\\\"default\\\"].registerVersion(name, version);\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"_typeof\",\"obj\",\"Symbol\",\"iterator\",\"constructor\",\"prototype\",\"codeForHTTPStatus\",\"status\",\"mapValues\",\"o\",\"f\",\"result\",\"key\",\"hasOwnProperty\",\"failAfter\",\"millis\",\"timer\",\"promise\",\"Promise\",\"_\",\"reject\",\"setTimeout\",\"HttpsErrorImpl\",\"clearTimeoutWrapper\",\"_tslib\",\"__awaiter\",\"__generator\",\"_a\",\"label\",\"sent\",\"clearTimeout\",\"_app\",\"_interopRequireDefault\",\"__esModule\",\"_component\",\"errorCodeMap\",\"OK\",\"CANCELLED\",\"UNKNOWN\",\"INVALID_ARGUMENT\",\"DEADLINE_EXCEEDED\",\"NOT_FOUND\",\"ALREADY_EXISTS\",\"PERMISSION_DENIED\",\"UNAUTHENTICATED\",\"RESOURCE_EXHAUSTED\",\"FAILED_PRECONDITION\",\"ABORTED\",\"OUT_OF_RANGE\",\"UNIMPLEMENTED\",\"INTERNAL\",\"UNAVAILABLE\",\"DATA_LOSS\",\"_super\",\"code\",\"message\",\"details\",\"_this\",\"call\",\"Object\",\"setPrototypeOf\",\"__extends\",\"Error\",\"ContextProvider\",\"authProvider\",\"messagingProvider\",\"messaging\",\"auth\",\"getImmediate\",\"optional\",\"get\",\"then\",\"getAuthToken\",\"ContextProvider.prototype.getAuthToken\",\"token\",\"undefined\",\"trys\",\"push\",\"getToken\",\"accessToken\",\"getInstanceIdToken\",\"ContextProvider.prototype.getInstanceIdToken\",\"self\",\"Notification\",\"permission\",\"getContext\",\"ContextProvider.prototype.getContext\",\"authToken\",\"instanceIdToken\",\"Serializer\",\"encode\",\"Serializer.prototype.encode\",\"data\",\"Number\",\"valueOf\",\"isFinite\",\"toString\",\"Date\",\"toISOString\",\"Array\",\"isArray\",\"map\",\"x\",\"decode\",\"Serializer.prototype.decode\",\"json\",\"LONG_TYPE\",\"UNSIGNED_LONG_TYPE\",\"value\",\"isNaN\",\"Service\",\"app_\",\"appCheckProvider\",\"regionOrCustomDomain_\",\"fetchImpl\",\"serializer\",\"emulatorOrigin\",\"_delete\",\"resolve\",\"deleteService\",\"contextProvider\",\"cancelAllRequests\",\"_this.deleteService\",\"customDomain\",\"origin\",\"url\",\"URL\",\"region\",\"e\",\"defineProperty\",\"enumerable\",\"configurable\",\"_url\",\"Service.prototype._url\",\"name\",\"projectId\",\"options\",\"useEmulator\",\"Service.prototype.useEmulator\",\"host\",\"port\",\"useFunctionsEmulator\",\"Service.prototype.useFunctionsEmulator\",\"httpsCallable\",\"Service.prototype.httpsCallable\",\"postJSON\",\"Service.prototype.postJSON\",\"body\",\"headers\",\"appCheckToken\",\"response\",\"getAppCheckToken\",\"method\",\"JSON\",\"stringify\",\"Service.prototype.getAppCheckToken\",\"appCheck\",\"Service.prototype.call\",\"context\",\"timeout\",\"failAfterPromise\",\"error\",\"responseData\",\"decodedData\",\"_b\",\"race\",\"description\",\"errorJSON\",\"bodyJSON\",\"status_1\",\"registerFunctions\",\"instance\",\"namespaceExports\",\"Functions\",\"registerComponent\",\"setServiceProps\",\"Component\",\"FUNCTIONS_TYPE\",\"factory\",\"container\",\"regionOrCustomDomain\",\"instanceIdentifier\",\"app\",\"getProvider\",\"setMultipleInstances\",\"fetch\",\"bind\",\"registerVersion\",\"version\"]\n}\n"]