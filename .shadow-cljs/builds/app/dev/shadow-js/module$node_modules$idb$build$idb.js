["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/idb/build/idb.js"],"~:js","shadow$provide.module$node_modules$idb$build$idb=function(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\"object\"===typeof exports$jscomp$0&&\"undefined\"!==typeof module?factory(exports$jscomp$0):\"function\"===typeof define&&define.amd?define([\"exports\"],factory):(global=global||self,factory(global.idb={}))})(this,function(exports){function promisifyRequest(request){return new Promise(function(resolve,reject){request.onsuccess=function(){resolve(request.result)};request.onerror=\nfunction(){reject(request.error)}})}function promisifyRequestCall(obj,method,args){var request,p=new Promise(function(resolve,reject){request=obj[method].apply(obj,args);promisifyRequest(request).then(resolve,reject)});p.request=request;return p}function promisifyCursorRequestCall(obj,method,args){var p=promisifyRequestCall(obj,method,args);return p.then(function(value){if(value)return new Cursor(value,p.request)})}function proxyProperties(ProxyClass,targetProp,properties){properties.forEach(function(prop){Object.defineProperty(ProxyClass.prototype,\nprop,{get:function(){return this[targetProp][prop]},set:function(val){this[targetProp][prop]=val}})})}function proxyRequestMethods(ProxyClass,targetProp,Constructor,properties){properties.forEach(function(prop){prop in Constructor.prototype&&(ProxyClass.prototype[prop]=function(){return promisifyRequestCall(this[targetProp],prop,arguments)})})}function proxyMethods(ProxyClass,targetProp,Constructor,properties){properties.forEach(function(prop){prop in Constructor.prototype&&(ProxyClass.prototype[prop]=\nfunction(){return this[targetProp][prop].apply(this[targetProp],arguments)})})}function proxyCursorRequestMethods(ProxyClass,targetProp,Constructor,properties){properties.forEach(function(prop){prop in Constructor.prototype&&(ProxyClass.prototype[prop]=function(){return promisifyCursorRequestCall(this[targetProp],prop,arguments)})})}function Index(index){this._index=index}function Cursor(cursor,request){this._cursor=cursor;this._request=request}function ObjectStore(store){this._store=store}function Transaction(idbTransaction){this._tx=\nidbTransaction;this.complete=new Promise(function(resolve,reject){idbTransaction.oncomplete=function(){resolve()};idbTransaction.onerror=function(){reject(idbTransaction.error)};idbTransaction.onabort=function(){reject(idbTransaction.error)}})}function UpgradeDB(db,oldVersion,transaction){this._db=db;this.oldVersion=oldVersion;this.transaction=new Transaction(transaction)}function DB(db){this._db=db}proxyProperties(Index,\"_index\",[\"name\",\"keyPath\",\"multiEntry\",\"unique\"]);proxyRequestMethods(Index,\n\"_index\",IDBIndex,[\"get\",\"getKey\",\"getAll\",\"getAllKeys\",\"count\"]);proxyCursorRequestMethods(Index,\"_index\",IDBIndex,[\"openCursor\",\"openKeyCursor\"]);proxyProperties(Cursor,\"_cursor\",[\"direction\",\"key\",\"primaryKey\",\"value\"]);proxyRequestMethods(Cursor,\"_cursor\",IDBCursor,[\"update\",\"delete\"]);[\"advance\",\"continue\",\"continuePrimaryKey\"].forEach(function(methodName){methodName in IDBCursor.prototype&&(Cursor.prototype[methodName]=function(){var cursor=this,args=arguments;return Promise.resolve().then(function(){cursor._cursor[methodName].apply(cursor._cursor,\nargs);return promisifyRequest(cursor._request).then(function(value){if(value)return new Cursor(value,cursor._request)})})})});ObjectStore.prototype.createIndex=function(){return new Index(this._store.createIndex.apply(this._store,arguments))};ObjectStore.prototype.index=function(){return new Index(this._store.index.apply(this._store,arguments))};proxyProperties(ObjectStore,\"_store\",[\"name\",\"keyPath\",\"indexNames\",\"autoIncrement\"]);proxyRequestMethods(ObjectStore,\"_store\",IDBObjectStore,\"put add delete clear get getAll getKey getAllKeys count\".split(\" \"));\nproxyCursorRequestMethods(ObjectStore,\"_store\",IDBObjectStore,[\"openCursor\",\"openKeyCursor\"]);proxyMethods(ObjectStore,\"_store\",IDBObjectStore,[\"deleteIndex\"]);Transaction.prototype.objectStore=function(){return new ObjectStore(this._tx.objectStore.apply(this._tx,arguments))};proxyProperties(Transaction,\"_tx\",[\"objectStoreNames\",\"mode\"]);proxyMethods(Transaction,\"_tx\",IDBTransaction,[\"abort\"]);UpgradeDB.prototype.createObjectStore=function(){return new ObjectStore(this._db.createObjectStore.apply(this._db,\narguments))};proxyProperties(UpgradeDB,\"_db\",[\"name\",\"version\",\"objectStoreNames\"]);proxyMethods(UpgradeDB,\"_db\",IDBDatabase,[\"deleteObjectStore\",\"close\"]);DB.prototype.transaction=function(){return new Transaction(this._db.transaction.apply(this._db,arguments))};proxyProperties(DB,\"_db\",[\"name\",\"version\",\"objectStoreNames\"]);proxyMethods(DB,\"_db\",IDBDatabase,[\"close\"]);[\"openCursor\",\"openKeyCursor\"].forEach(function(funcName){[ObjectStore,Index].forEach(function(Constructor){funcName in Constructor.prototype&&\n(Constructor.prototype[funcName.replace(\"open\",\"iterate\")]=function(){var args=Array.prototype.slice.call(arguments),callback=args[args.length-1],nativeObject=this._store||this._index,request=nativeObject[funcName].apply(nativeObject,args.slice(0,-1));request.onsuccess=function(){callback(request.result)}})})});[Index,ObjectStore].forEach(function(Constructor){Constructor.prototype.getAll||(Constructor.prototype.getAll=function(query,count){var instance=this,items=[];return new Promise(function(resolve){instance.iterateCursor(query,\nfunction(cursor){cursor?(items.push(cursor.value),void 0!==count&&items.length==count?resolve(items):cursor.continue()):resolve(items)})})})});exports.openDb=function(name,version,upgradeCallback){name=promisifyRequestCall(indexedDB,\"open\",[name,version]);var request=name.request;request&&(request.onupgradeneeded=function(event){upgradeCallback&&upgradeCallback(new UpgradeDB(request.result,event.oldVersion,request.transaction))});return name.then(function(db){return new DB(db)})};exports.deleteDb=\nfunction(name){return promisifyRequestCall(indexedDB,\"deleteDatabase\",[name])};Object.defineProperty(exports,\"__esModule\",{value:!0})})}","~:source","shadow$provide[\"module$node_modules$idb$build$idb\"] = function(global,require,module,exports) {\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = global || self, factory(global.idb = {}));\n}(this, function (exports) { 'use strict';\n\n  function toArray(arr) {\n    return Array.prototype.slice.call(arr);\n  }\n\n  function promisifyRequest(request) {\n    return new Promise(function(resolve, reject) {\n      request.onsuccess = function() {\n        resolve(request.result);\n      };\n\n      request.onerror = function() {\n        reject(request.error);\n      };\n    });\n  }\n\n  function promisifyRequestCall(obj, method, args) {\n    var request;\n    var p = new Promise(function(resolve, reject) {\n      request = obj[method].apply(obj, args);\n      promisifyRequest(request).then(resolve, reject);\n    });\n\n    p.request = request;\n    return p;\n  }\n\n  function promisifyCursorRequestCall(obj, method, args) {\n    var p = promisifyRequestCall(obj, method, args);\n    return p.then(function(value) {\n      if (!value) return;\n      return new Cursor(value, p.request);\n    });\n  }\n\n  function proxyProperties(ProxyClass, targetProp, properties) {\n    properties.forEach(function(prop) {\n      Object.defineProperty(ProxyClass.prototype, prop, {\n        get: function() {\n          return this[targetProp][prop];\n        },\n        set: function(val) {\n          this[targetProp][prop] = val;\n        }\n      });\n    });\n  }\n\n  function proxyRequestMethods(ProxyClass, targetProp, Constructor, properties) {\n    properties.forEach(function(prop) {\n      if (!(prop in Constructor.prototype)) return;\n      ProxyClass.prototype[prop] = function() {\n        return promisifyRequestCall(this[targetProp], prop, arguments);\n      };\n    });\n  }\n\n  function proxyMethods(ProxyClass, targetProp, Constructor, properties) {\n    properties.forEach(function(prop) {\n      if (!(prop in Constructor.prototype)) return;\n      ProxyClass.prototype[prop] = function() {\n        return this[targetProp][prop].apply(this[targetProp], arguments);\n      };\n    });\n  }\n\n  function proxyCursorRequestMethods(ProxyClass, targetProp, Constructor, properties) {\n    properties.forEach(function(prop) {\n      if (!(prop in Constructor.prototype)) return;\n      ProxyClass.prototype[prop] = function() {\n        return promisifyCursorRequestCall(this[targetProp], prop, arguments);\n      };\n    });\n  }\n\n  function Index(index) {\n    this._index = index;\n  }\n\n  proxyProperties(Index, '_index', [\n    'name',\n    'keyPath',\n    'multiEntry',\n    'unique'\n  ]);\n\n  proxyRequestMethods(Index, '_index', IDBIndex, [\n    'get',\n    'getKey',\n    'getAll',\n    'getAllKeys',\n    'count'\n  ]);\n\n  proxyCursorRequestMethods(Index, '_index', IDBIndex, [\n    'openCursor',\n    'openKeyCursor'\n  ]);\n\n  function Cursor(cursor, request) {\n    this._cursor = cursor;\n    this._request = request;\n  }\n\n  proxyProperties(Cursor, '_cursor', [\n    'direction',\n    'key',\n    'primaryKey',\n    'value'\n  ]);\n\n  proxyRequestMethods(Cursor, '_cursor', IDBCursor, [\n    'update',\n    'delete'\n  ]);\n\n  // proxy 'next' methods\n  ['advance', 'continue', 'continuePrimaryKey'].forEach(function(methodName) {\n    if (!(methodName in IDBCursor.prototype)) return;\n    Cursor.prototype[methodName] = function() {\n      var cursor = this;\n      var args = arguments;\n      return Promise.resolve().then(function() {\n        cursor._cursor[methodName].apply(cursor._cursor, args);\n        return promisifyRequest(cursor._request).then(function(value) {\n          if (!value) return;\n          return new Cursor(value, cursor._request);\n        });\n      });\n    };\n  });\n\n  function ObjectStore(store) {\n    this._store = store;\n  }\n\n  ObjectStore.prototype.createIndex = function() {\n    return new Index(this._store.createIndex.apply(this._store, arguments));\n  };\n\n  ObjectStore.prototype.index = function() {\n    return new Index(this._store.index.apply(this._store, arguments));\n  };\n\n  proxyProperties(ObjectStore, '_store', [\n    'name',\n    'keyPath',\n    'indexNames',\n    'autoIncrement'\n  ]);\n\n  proxyRequestMethods(ObjectStore, '_store', IDBObjectStore, [\n    'put',\n    'add',\n    'delete',\n    'clear',\n    'get',\n    'getAll',\n    'getKey',\n    'getAllKeys',\n    'count'\n  ]);\n\n  proxyCursorRequestMethods(ObjectStore, '_store', IDBObjectStore, [\n    'openCursor',\n    'openKeyCursor'\n  ]);\n\n  proxyMethods(ObjectStore, '_store', IDBObjectStore, [\n    'deleteIndex'\n  ]);\n\n  function Transaction(idbTransaction) {\n    this._tx = idbTransaction;\n    this.complete = new Promise(function(resolve, reject) {\n      idbTransaction.oncomplete = function() {\n        resolve();\n      };\n      idbTransaction.onerror = function() {\n        reject(idbTransaction.error);\n      };\n      idbTransaction.onabort = function() {\n        reject(idbTransaction.error);\n      };\n    });\n  }\n\n  Transaction.prototype.objectStore = function() {\n    return new ObjectStore(this._tx.objectStore.apply(this._tx, arguments));\n  };\n\n  proxyProperties(Transaction, '_tx', [\n    'objectStoreNames',\n    'mode'\n  ]);\n\n  proxyMethods(Transaction, '_tx', IDBTransaction, [\n    'abort'\n  ]);\n\n  function UpgradeDB(db, oldVersion, transaction) {\n    this._db = db;\n    this.oldVersion = oldVersion;\n    this.transaction = new Transaction(transaction);\n  }\n\n  UpgradeDB.prototype.createObjectStore = function() {\n    return new ObjectStore(this._db.createObjectStore.apply(this._db, arguments));\n  };\n\n  proxyProperties(UpgradeDB, '_db', [\n    'name',\n    'version',\n    'objectStoreNames'\n  ]);\n\n  proxyMethods(UpgradeDB, '_db', IDBDatabase, [\n    'deleteObjectStore',\n    'close'\n  ]);\n\n  function DB(db) {\n    this._db = db;\n  }\n\n  DB.prototype.transaction = function() {\n    return new Transaction(this._db.transaction.apply(this._db, arguments));\n  };\n\n  proxyProperties(DB, '_db', [\n    'name',\n    'version',\n    'objectStoreNames'\n  ]);\n\n  proxyMethods(DB, '_db', IDBDatabase, [\n    'close'\n  ]);\n\n  // Add cursor iterators\n  // TODO: remove this once browsers do the right thing with promises\n  ['openCursor', 'openKeyCursor'].forEach(function(funcName) {\n    [ObjectStore, Index].forEach(function(Constructor) {\n      // Don't create iterateKeyCursor if openKeyCursor doesn't exist.\n      if (!(funcName in Constructor.prototype)) return;\n\n      Constructor.prototype[funcName.replace('open', 'iterate')] = function() {\n        var args = toArray(arguments);\n        var callback = args[args.length - 1];\n        var nativeObject = this._store || this._index;\n        var request = nativeObject[funcName].apply(nativeObject, args.slice(0, -1));\n        request.onsuccess = function() {\n          callback(request.result);\n        };\n      };\n    });\n  });\n\n  // polyfill getAll\n  [Index, ObjectStore].forEach(function(Constructor) {\n    if (Constructor.prototype.getAll) return;\n    Constructor.prototype.getAll = function(query, count) {\n      var instance = this;\n      var items = [];\n\n      return new Promise(function(resolve) {\n        instance.iterateCursor(query, function(cursor) {\n          if (!cursor) {\n            resolve(items);\n            return;\n          }\n          items.push(cursor.value);\n\n          if (count !== undefined && items.length == count) {\n            resolve(items);\n            return;\n          }\n          cursor.continue();\n        });\n      });\n    };\n  });\n\n  function openDb(name, version, upgradeCallback) {\n    var p = promisifyRequestCall(indexedDB, 'open', [name, version]);\n    var request = p.request;\n\n    if (request) {\n      request.onupgradeneeded = function(event) {\n        if (upgradeCallback) {\n          upgradeCallback(new UpgradeDB(request.result, event.oldVersion, request.transaction));\n        }\n      };\n    }\n\n    return p.then(function(db) {\n      return new DB(db);\n    });\n  }\n\n  function deleteDb(name) {\n    return promisifyRequestCall(indexedDB, 'deleteDatabase', [name]);\n  }\n\n  exports.openDb = openDb;\n  exports.deleteDb = deleteDb;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$shadow.js"]],"~:properties",["^5",["createObjectStore","_store","deleteDb","onerror","transaction","index","idb","onsuccess","_tx","__esModule","complete","getAll","openDb","oncomplete","_request","value","onupgradeneeded","request","createIndex","set","_cursor","_index","onabort","objectStore","_db","get","oldVersion"]],"~:compiled-at",1627823146963,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$idb$build$idb.js\",\n\"lineCount\":12,\n\"mappings\":\"AAAAA,cAAA,CAAA,iCAAA,CAAsD,QAAQ,CAACC,eAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,gBAAvB,CAAgC,CAC7F,SAAS,CAACH,MAAD,CAASI,OAAT,CAAkB,CACP,QAAnB,GAAA,MAAOD,iBAAP,EAAiD,WAAjD,GAA+B,MAAOD,OAAtC,CAA+DE,OAAA,CAAQD,gBAAR,CAA/D,CACkB,UAAlB,GAAA,MAAOE,OAAP,EAAgCA,MAAOC,CAAAA,GAAvC,CAA6CD,MAAA,CAAO,CAAC,SAAD,CAAP,CAAoBD,OAApB,CAA7C,EACCJ,MAAA,CAASA,MAAT,EAAmBO,IAAnB,CAAyBH,OAAA,CAAQJ,MAAOQ,CAAAA,GAAf,CAAqB,EAArB,CAD1B,CAF0B,CAA3B,CAAA,CAIC,IAJD,CAIO,QAAS,CAACL,OAAD,CAAU,CAMzBM,QAASA,iBAAgB,CAACC,OAAD,CAAU,CACjC,MAAO,KAAIC,OAAJ,CAAY,QAAQ,CAACC,OAAD,CAAUC,MAAV,CAAkB,CAC3CH,OAAQI,CAAAA,SAAR,CAAoBC,QAAQ,EAAG,CAC7BH,OAAA,CAAQF,OAAQM,CAAAA,MAAhB,CAD6B,CAI/BN,QAAQO,CAAAA,OAAR;AAAkBC,QAAQ,EAAG,CAC3BL,MAAA,CAAOH,OAAQS,CAAAA,KAAf,CAD2B,CALc,CAAtC,CAD0B,CAYnCC,QAASA,qBAAoB,CAACC,GAAD,CAAMC,MAAN,CAAcC,IAAd,CAAoB,CAC/C,IAAIb,OAAJ,CACIc,EAAI,IAAIb,OAAJ,CAAY,QAAQ,CAACC,OAAD,CAAUC,MAAV,CAAkB,CAC5CH,OAAA,CAAUW,GAAA,CAAIC,MAAJ,CAAYG,CAAAA,KAAZ,CAAkBJ,GAAlB,CAAuBE,IAAvB,CACVd,iBAAA,CAAiBC,OAAjB,CAA0BgB,CAAAA,IAA1B,CAA+Bd,OAA/B,CAAwCC,MAAxC,CAF4C,CAAtC,CAKRW,EAAEd,CAAAA,OAAF,CAAYA,OACZ,OAAOc,EARwC,CAWjDG,QAASA,2BAA0B,CAACN,GAAD,CAAMC,MAAN,CAAcC,IAAd,CAAoB,CACrD,IAAIC,EAAIJ,oBAAA,CAAqBC,GAArB,CAA0BC,MAA1B,CAAkCC,IAAlC,CACR,OAAOC,EAAEE,CAAAA,IAAF,CAAO,QAAQ,CAACE,KAAD,CAAQ,CAC5B,GAAKA,KAAL,CACA,MAAO,KAAIC,MAAJ,CAAWD,KAAX,CAAkBJ,CAAEd,CAAAA,OAApB,CAFqB,CAAvB,CAF8C,CAQvDoB,QAASA,gBAAe,CAACC,UAAD,CAAaC,UAAb,CAAyBC,UAAzB,CAAqC,CAC3DA,UAAWC,CAAAA,OAAX,CAAmB,QAAQ,CAACC,IAAD,CAAO,CAChCC,MAAOC,CAAAA,cAAP,CAAsBN,UAAWO,CAAAA,SAAjC;AAA4CH,IAA5C,CAAkD,CAChDI,IAAKA,QAAQ,EAAG,CACd,MAAO,KAAA,CAAKP,UAAL,CAAA,CAAiBG,IAAjB,CADO,CADgC,CAIhDK,IAAKA,QAAQ,CAACC,GAAD,CAAM,CACjB,IAAA,CAAKT,UAAL,CAAA,CAAiBG,IAAjB,CAAA,CAAyBM,GADR,CAJ6B,CAAlD,CADgC,CAAlC,CAD2D,CAa7DC,QAASA,oBAAmB,CAACX,UAAD,CAAaC,UAAb,CAAyBW,WAAzB,CAAsCV,UAAtC,CAAkD,CAC5EA,UAAWC,CAAAA,OAAX,CAAmB,QAAQ,CAACC,IAAD,CAAO,CAC1BA,IAAN,GAAcQ,YAAYL,CAAAA,SAA1B,GACAP,UAAWO,CAAAA,SAAX,CAAqBH,IAArB,CADA,CAC6B,QAAQ,EAAG,CACtC,MAAOf,qBAAA,CAAqB,IAAA,CAAKY,UAAL,CAArB,CAAuCG,IAAvC,CAA6CS,SAA7C,CAD+B,CADxC,CADgC,CAAlC,CAD4E,CAS9EC,QAASA,aAAY,CAACd,UAAD,CAAaC,UAAb,CAAyBW,WAAzB,CAAsCV,UAAtC,CAAkD,CACrEA,UAAWC,CAAAA,OAAX,CAAmB,QAAQ,CAACC,IAAD,CAAO,CAC1BA,IAAN,GAAcQ,YAAYL,CAAAA,SAA1B,GACAP,UAAWO,CAAAA,SAAX,CAAqBH,IAArB,CADA;AAC6B,QAAQ,EAAG,CACtC,MAAO,KAAA,CAAKH,UAAL,CAAA,CAAiBG,IAAjB,CAAuBV,CAAAA,KAAvB,CAA6B,IAAA,CAAKO,UAAL,CAA7B,CAA+CY,SAA/C,CAD+B,CADxC,CADgC,CAAlC,CADqE,CASvEE,QAASA,0BAAyB,CAACf,UAAD,CAAaC,UAAb,CAAyBW,WAAzB,CAAsCV,UAAtC,CAAkD,CAClFA,UAAWC,CAAAA,OAAX,CAAmB,QAAQ,CAACC,IAAD,CAAO,CAC1BA,IAAN,GAAcQ,YAAYL,CAAAA,SAA1B,GACAP,UAAWO,CAAAA,SAAX,CAAqBH,IAArB,CADA,CAC6B,QAAQ,EAAG,CACtC,MAAOR,2BAAA,CAA2B,IAAA,CAAKK,UAAL,CAA3B,CAA6CG,IAA7C,CAAmDS,SAAnD,CAD+B,CADxC,CADgC,CAAlC,CADkF,CASpFG,QAASA,MAAK,CAACC,KAAD,CAAQ,CACpB,IAAKC,CAAAA,MAAL,CAAcD,KADM,CAwBtBnB,QAASA,OAAM,CAACqB,MAAD,CAASxC,OAAT,CAAkB,CAC/B,IAAKyC,CAAAA,OAAL,CAAeD,MACf,KAAKE,CAAAA,QAAL,CAAgB1C,OAFe,CAiCjC2C,QAASA,YAAW,CAACC,KAAD,CAAQ,CAC1B,IAAKC,CAAAA,MAAL,CAAcD,KADY,CAwC5BE,QAASA,YAAW,CAACC,cAAD,CAAiB,CACnC,IAAKC,CAAAA,GAAL;AAAWD,cACX,KAAKE,CAAAA,QAAL,CAAgB,IAAIhD,OAAJ,CAAY,QAAQ,CAACC,OAAD,CAAUC,MAAV,CAAkB,CACpD4C,cAAeG,CAAAA,UAAf,CAA4BC,QAAQ,EAAG,CACrCjD,OAAA,EADqC,CAGvC6C,eAAexC,CAAAA,OAAf,CAAyB6C,QAAQ,EAAG,CAClCjD,MAAA,CAAO4C,cAAetC,CAAAA,KAAtB,CADkC,CAGpCsC,eAAeM,CAAAA,OAAf,CAAyBC,QAAQ,EAAG,CAClCnD,MAAA,CAAO4C,cAAetC,CAAAA,KAAtB,CADkC,CAPgB,CAAtC,CAFmB,CA4BrC8C,QAASA,UAAS,CAACC,EAAD,CAAKC,UAAL,CAAiBC,WAAjB,CAA8B,CAC9C,IAAKC,CAAAA,GAAL,CAAWH,EACX,KAAKC,CAAAA,UAAL,CAAkBA,UAClB,KAAKC,CAAAA,WAAL,CAAmB,IAAIZ,WAAJ,CAAgBY,WAAhB,CAH2B,CAqBhDE,QAASA,GAAE,CAACJ,EAAD,CAAK,CACd,IAAKG,CAAAA,GAAL,CAAWH,EADG,CA9IhBpC,eAAA,CAAgBiB,KAAhB,CAAuB,QAAvB,CAAiC,CAC/B,MAD+B,CAE/B,SAF+B,CAG/B,YAH+B,CAI/B,QAJ+B,CAAjC,CAOAL,oBAAA,CAAoBK,KAApB;AAA2B,QAA3B,CAAqCwB,QAArC,CAA+C,CAC7C,KAD6C,CAE7C,QAF6C,CAG7C,QAH6C,CAI7C,YAJ6C,CAK7C,OAL6C,CAA/C,CAQAzB,0BAAA,CAA0BC,KAA1B,CAAiC,QAAjC,CAA2CwB,QAA3C,CAAqD,CACnD,YADmD,CAEnD,eAFmD,CAArD,CAUAzC,gBAAA,CAAgBD,MAAhB,CAAwB,SAAxB,CAAmC,CACjC,WADiC,CAEjC,KAFiC,CAGjC,YAHiC,CAIjC,OAJiC,CAAnC,CAOAa,oBAAA,CAAoBb,MAApB,CAA4B,SAA5B,CAAuC2C,SAAvC,CAAkD,CAChD,QADgD,CAEhD,QAFgD,CAAlD,CAMA,EAAC,SAAD,CAAY,UAAZ,CAAwB,oBAAxB,CAA8CtC,CAAAA,OAA9C,CAAsD,QAAQ,CAACuC,UAAD,CAAa,CACnEA,UAAN,GAAoBD,UAAUlC,CAAAA,SAA9B,GACAT,MAAOS,CAAAA,SAAP,CAAiBmC,UAAjB,CADA,CAC+B,QAAQ,EAAG,CACxC,IAAIvB,OAAS,IAAb,CACI3B,KAAOqB,SACX,OAAOjC,QAAQC,CAAAA,OAAR,EAAkBc,CAAAA,IAAlB,CAAuB,QAAQ,EAAG,CACvCwB,MAAOC,CAAAA,OAAP,CAAesB,UAAf,CAA2BhD,CAAAA,KAA3B,CAAiCyB,MAAOC,CAAAA,OAAxC;AAAiD5B,IAAjD,CACA,OAAOd,iBAAA,CAAiByC,MAAOE,CAAAA,QAAxB,CAAkC1B,CAAAA,IAAlC,CAAuC,QAAQ,CAACE,KAAD,CAAQ,CAC5D,GAAKA,KAAL,CACA,MAAO,KAAIC,MAAJ,CAAWD,KAAX,CAAkBsB,MAAOE,CAAAA,QAAzB,CAFqD,CAAvD,CAFgC,CAAlC,CAHiC,CAD1C,CADyE,CAA3E,CAmBAC,YAAYf,CAAAA,SAAUoC,CAAAA,WAAtB,CAAoCC,QAAQ,EAAG,CAC7C,MAAO,KAAI5B,KAAJ,CAAU,IAAKQ,CAAAA,MAAOmB,CAAAA,WAAYjD,CAAAA,KAAxB,CAA8B,IAAK8B,CAAAA,MAAnC,CAA2CX,SAA3C,CAAV,CADsC,CAI/CS,YAAYf,CAAAA,SAAUU,CAAAA,KAAtB,CAA8B4B,QAAQ,EAAG,CACvC,MAAO,KAAI7B,KAAJ,CAAU,IAAKQ,CAAAA,MAAOP,CAAAA,KAAMvB,CAAAA,KAAlB,CAAwB,IAAK8B,CAAAA,MAA7B,CAAqCX,SAArC,CAAV,CADgC,CAIzCd,gBAAA,CAAgBuB,WAAhB,CAA6B,QAA7B,CAAuC,CACrC,MADqC,CAErC,SAFqC,CAGrC,YAHqC,CAIrC,eAJqC,CAAvC,CAOAX,oBAAA,CAAoBW,WAApB,CAAiC,QAAjC,CAA2CwB,cAA3C,CAA2D,yDAAA,CAAA,KAAA,CAAA,GAAA,CAA3D,CAYA/B;yBAAA,CAA0BO,WAA1B,CAAuC,QAAvC,CAAiDwB,cAAjD,CAAiE,CAC/D,YAD+D,CAE/D,eAF+D,CAAjE,CAKAhC,aAAA,CAAaQ,WAAb,CAA0B,QAA1B,CAAoCwB,cAApC,CAAoD,CAClD,aADkD,CAApD,CAmBArB,YAAYlB,CAAAA,SAAUwC,CAAAA,WAAtB,CAAoCC,QAAQ,EAAG,CAC7C,MAAO,KAAI1B,WAAJ,CAAgB,IAAKK,CAAAA,GAAIoB,CAAAA,WAAYrD,CAAAA,KAArB,CAA2B,IAAKiC,CAAAA,GAAhC,CAAqCd,SAArC,CAAhB,CADsC,CAI/Cd,gBAAA,CAAgB0B,WAAhB,CAA6B,KAA7B,CAAoC,CAClC,kBADkC,CAElC,MAFkC,CAApC,CAKAX,aAAA,CAAaW,WAAb,CAA0B,KAA1B,CAAiCwB,cAAjC,CAAiD,CAC/C,OAD+C,CAAjD,CAUAf,UAAU3B,CAAAA,SAAU2C,CAAAA,iBAApB,CAAwCC,QAAQ,EAAG,CACjD,MAAO,KAAI7B,WAAJ,CAAgB,IAAKgB,CAAAA,GAAIY,CAAAA,iBAAkBxD,CAAAA,KAA3B,CAAiC,IAAK4C,CAAAA,GAAtC;AAA2CzB,SAA3C,CAAhB,CAD0C,CAInDd,gBAAA,CAAgBmC,SAAhB,CAA2B,KAA3B,CAAkC,CAChC,MADgC,CAEhC,SAFgC,CAGhC,kBAHgC,CAAlC,CAMApB,aAAA,CAAaoB,SAAb,CAAwB,KAAxB,CAA+BkB,WAA/B,CAA4C,CAC1C,mBAD0C,CAE1C,OAF0C,CAA5C,CASAb,GAAGhC,CAAAA,SAAU8B,CAAAA,WAAb,CAA2BgB,QAAQ,EAAG,CACpC,MAAO,KAAI5B,WAAJ,CAAgB,IAAKa,CAAAA,GAAID,CAAAA,WAAY3C,CAAAA,KAArB,CAA2B,IAAK4C,CAAAA,GAAhC,CAAqCzB,SAArC,CAAhB,CAD6B,CAItCd,gBAAA,CAAgBwC,EAAhB,CAAoB,KAApB,CAA2B,CACzB,MADyB,CAEzB,SAFyB,CAGzB,kBAHyB,CAA3B,CAMAzB,aAAA,CAAayB,EAAb,CAAiB,KAAjB,CAAwBa,WAAxB,CAAqC,CACnC,OADmC,CAArC,CAMA,EAAC,YAAD,CAAe,eAAf,CAAgCjD,CAAAA,OAAhC,CAAwC,QAAQ,CAACmD,QAAD,CAAW,CACzD,CAAChC,WAAD,CAAcN,KAAd,CAAqBb,CAAAA,OAArB,CAA6B,QAAQ,CAACS,WAAD,CAAc,CAE3C0C,QAAN,GAAkB1C,YAAYL,CAAAA,SAA9B;CAEAK,WAAYL,CAAAA,SAAZ,CAAsB+C,QAASC,CAAAA,OAAT,CAAiB,MAAjB,CAAyB,SAAzB,CAAtB,CAFA,CAE6D,QAAQ,EAAG,CACtE,IAAI/D,KAtPDgE,KAAMjD,CAAAA,SAAUkD,CAAAA,KAAMC,CAAAA,IAAtB,CAsPgB7C,SAtPhB,CAsPH,CACI8C,SAAWnE,IAAA,CAAKA,IAAKoE,CAAAA,MAAV,CAAmB,CAAnB,CADf,CAEIC,aAAe,IAAKrC,CAAAA,MAApBqC,EAA8B,IAAK3C,CAAAA,MAFvC,CAGIvC,QAAUkF,YAAA,CAAaP,QAAb,CAAuB5D,CAAAA,KAAvB,CAA6BmE,YAA7B,CAA2CrE,IAAKiE,CAAAA,KAAL,CAAW,CAAX,CAAc,EAAd,CAA3C,CACd9E,QAAQI,CAAAA,SAAR,CAAoBC,QAAQ,EAAG,CAC7B2E,QAAA,CAAShF,OAAQM,CAAAA,MAAjB,CAD6B,CALuC,CAFxE,CAFiD,CAAnD,CADyD,CAA3D,CAkBA,EAAC+B,KAAD,CAAQM,WAAR,CAAqBnB,CAAAA,OAArB,CAA6B,QAAQ,CAACS,WAAD,CAAc,CAC7CA,WAAYL,CAAAA,SAAUuD,CAAAA,MAA1B,GACAlD,WAAYL,CAAAA,SAAUuD,CAAAA,MADtB,CAC+BC,QAAQ,CAACC,KAAD,CAAQC,KAAR,CAAe,CACpD,IAAIC,SAAW,IAAf,CACIC,MAAQ,EAEZ,OAAO,KAAIvF,OAAJ,CAAY,QAAQ,CAACC,OAAD,CAAU,CACnCqF,QAASE,CAAAA,aAAT,CAAuBJ,KAAvB;AAA8B,QAAQ,CAAC7C,MAAD,CAAS,CACxCA,MAAL,EAIAgD,KAAME,CAAAA,IAAN,CAAWlD,MAAOtB,CAAAA,KAAlB,CAEA,CAAcyE,IAAAA,EAAd,GAAIL,KAAJ,EAA2BE,KAAMP,CAAAA,MAAjC,EAA2CK,KAA3C,CACEpF,OAAA,CAAQsF,KAAR,CADF,CAIAhD,MAAOoD,CAAAA,QAAP,EAVA,EACE1F,OAAA,CAAQsF,KAAR,CAF2C,CAA/C,CADmC,CAA9B,CAJ6C,CADtD,CADiD,CAAnD,CA6CA/F,QAAQoG,CAAAA,MAAR,CArBAA,QAAe,CAACC,IAAD,CAAOC,OAAP,CAAgBC,eAAhB,CAAiC,CAC1ClF,IAAAA,CAAIJ,oBAAA,CAAqBuF,SAArB,CAAgC,MAAhC,CAAwC,CAACH,IAAD,CAAOC,OAAP,CAAxC,CACR,KAAI/F,QAAUc,IAAEd,CAAAA,OAEZA,QAAJ,GACEA,OAAQkG,CAAAA,eADV,CAC4BC,QAAQ,CAACC,KAAD,CAAQ,CACpCJ,eAAJ,EACEA,eAAA,CAAgB,IAAIzC,SAAJ,CAAcvD,OAAQM,CAAAA,MAAtB,CAA8B8F,KAAM3C,CAAAA,UAApC,CAAgDzD,OAAQ0D,CAAAA,WAAxD,CAAhB,CAFsC,CAD5C,CAQA,OAAO5C,KAAEE,CAAAA,IAAF,CAAO,QAAQ,CAACwC,EAAD,CAAK,CACzB,MAAO,KAAII,EAAJ,CAAOJ,EAAP,CADkB,CAApB,CAZuC,CAsBhD/D,QAAQ4G,CAAAA,QAAR;AALAA,QAAiB,CAACP,IAAD,CAAO,CACtB,MAAOpF,qBAAA,CAAqBuF,SAArB,CAAgC,gBAAhC,CAAkD,CAACH,IAAD,CAAlD,CADe,CAOxBpE,OAAOC,CAAAA,cAAP,CAAsBlC,OAAtB,CAA+B,YAA/B,CAA6C,CAAEyB,MAAO,CAAA,CAAT,CAA7C,CArTyB,CAJ1B,CAD6F;\",\n\"sources\":[\"node_modules/idb/build/idb.js\"],\n\"sourcesContent\":[\"shadow$provide[\\\"module$node_modules$idb$build$idb\\\"] = function(global,require,module,exports) {\\n(function (global, factory) {\\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\\n  (global = global || self, factory(global.idb = {}));\\n}(this, function (exports) { 'use strict';\\n\\n  function toArray(arr) {\\n    return Array.prototype.slice.call(arr);\\n  }\\n\\n  function promisifyRequest(request) {\\n    return new Promise(function(resolve, reject) {\\n      request.onsuccess = function() {\\n        resolve(request.result);\\n      };\\n\\n      request.onerror = function() {\\n        reject(request.error);\\n      };\\n    });\\n  }\\n\\n  function promisifyRequestCall(obj, method, args) {\\n    var request;\\n    var p = new Promise(function(resolve, reject) {\\n      request = obj[method].apply(obj, args);\\n      promisifyRequest(request).then(resolve, reject);\\n    });\\n\\n    p.request = request;\\n    return p;\\n  }\\n\\n  function promisifyCursorRequestCall(obj, method, args) {\\n    var p = promisifyRequestCall(obj, method, args);\\n    return p.then(function(value) {\\n      if (!value) return;\\n      return new Cursor(value, p.request);\\n    });\\n  }\\n\\n  function proxyProperties(ProxyClass, targetProp, properties) {\\n    properties.forEach(function(prop) {\\n      Object.defineProperty(ProxyClass.prototype, prop, {\\n        get: function() {\\n          return this[targetProp][prop];\\n        },\\n        set: function(val) {\\n          this[targetProp][prop] = val;\\n        }\\n      });\\n    });\\n  }\\n\\n  function proxyRequestMethods(ProxyClass, targetProp, Constructor, properties) {\\n    properties.forEach(function(prop) {\\n      if (!(prop in Constructor.prototype)) return;\\n      ProxyClass.prototype[prop] = function() {\\n        return promisifyRequestCall(this[targetProp], prop, arguments);\\n      };\\n    });\\n  }\\n\\n  function proxyMethods(ProxyClass, targetProp, Constructor, properties) {\\n    properties.forEach(function(prop) {\\n      if (!(prop in Constructor.prototype)) return;\\n      ProxyClass.prototype[prop] = function() {\\n        return this[targetProp][prop].apply(this[targetProp], arguments);\\n      };\\n    });\\n  }\\n\\n  function proxyCursorRequestMethods(ProxyClass, targetProp, Constructor, properties) {\\n    properties.forEach(function(prop) {\\n      if (!(prop in Constructor.prototype)) return;\\n      ProxyClass.prototype[prop] = function() {\\n        return promisifyCursorRequestCall(this[targetProp], prop, arguments);\\n      };\\n    });\\n  }\\n\\n  function Index(index) {\\n    this._index = index;\\n  }\\n\\n  proxyProperties(Index, '_index', [\\n    'name',\\n    'keyPath',\\n    'multiEntry',\\n    'unique'\\n  ]);\\n\\n  proxyRequestMethods(Index, '_index', IDBIndex, [\\n    'get',\\n    'getKey',\\n    'getAll',\\n    'getAllKeys',\\n    'count'\\n  ]);\\n\\n  proxyCursorRequestMethods(Index, '_index', IDBIndex, [\\n    'openCursor',\\n    'openKeyCursor'\\n  ]);\\n\\n  function Cursor(cursor, request) {\\n    this._cursor = cursor;\\n    this._request = request;\\n  }\\n\\n  proxyProperties(Cursor, '_cursor', [\\n    'direction',\\n    'key',\\n    'primaryKey',\\n    'value'\\n  ]);\\n\\n  proxyRequestMethods(Cursor, '_cursor', IDBCursor, [\\n    'update',\\n    'delete'\\n  ]);\\n\\n  // proxy 'next' methods\\n  ['advance', 'continue', 'continuePrimaryKey'].forEach(function(methodName) {\\n    if (!(methodName in IDBCursor.prototype)) return;\\n    Cursor.prototype[methodName] = function() {\\n      var cursor = this;\\n      var args = arguments;\\n      return Promise.resolve().then(function() {\\n        cursor._cursor[methodName].apply(cursor._cursor, args);\\n        return promisifyRequest(cursor._request).then(function(value) {\\n          if (!value) return;\\n          return new Cursor(value, cursor._request);\\n        });\\n      });\\n    };\\n  });\\n\\n  function ObjectStore(store) {\\n    this._store = store;\\n  }\\n\\n  ObjectStore.prototype.createIndex = function() {\\n    return new Index(this._store.createIndex.apply(this._store, arguments));\\n  };\\n\\n  ObjectStore.prototype.index = function() {\\n    return new Index(this._store.index.apply(this._store, arguments));\\n  };\\n\\n  proxyProperties(ObjectStore, '_store', [\\n    'name',\\n    'keyPath',\\n    'indexNames',\\n    'autoIncrement'\\n  ]);\\n\\n  proxyRequestMethods(ObjectStore, '_store', IDBObjectStore, [\\n    'put',\\n    'add',\\n    'delete',\\n    'clear',\\n    'get',\\n    'getAll',\\n    'getKey',\\n    'getAllKeys',\\n    'count'\\n  ]);\\n\\n  proxyCursorRequestMethods(ObjectStore, '_store', IDBObjectStore, [\\n    'openCursor',\\n    'openKeyCursor'\\n  ]);\\n\\n  proxyMethods(ObjectStore, '_store', IDBObjectStore, [\\n    'deleteIndex'\\n  ]);\\n\\n  function Transaction(idbTransaction) {\\n    this._tx = idbTransaction;\\n    this.complete = new Promise(function(resolve, reject) {\\n      idbTransaction.oncomplete = function() {\\n        resolve();\\n      };\\n      idbTransaction.onerror = function() {\\n        reject(idbTransaction.error);\\n      };\\n      idbTransaction.onabort = function() {\\n        reject(idbTransaction.error);\\n      };\\n    });\\n  }\\n\\n  Transaction.prototype.objectStore = function() {\\n    return new ObjectStore(this._tx.objectStore.apply(this._tx, arguments));\\n  };\\n\\n  proxyProperties(Transaction, '_tx', [\\n    'objectStoreNames',\\n    'mode'\\n  ]);\\n\\n  proxyMethods(Transaction, '_tx', IDBTransaction, [\\n    'abort'\\n  ]);\\n\\n  function UpgradeDB(db, oldVersion, transaction) {\\n    this._db = db;\\n    this.oldVersion = oldVersion;\\n    this.transaction = new Transaction(transaction);\\n  }\\n\\n  UpgradeDB.prototype.createObjectStore = function() {\\n    return new ObjectStore(this._db.createObjectStore.apply(this._db, arguments));\\n  };\\n\\n  proxyProperties(UpgradeDB, '_db', [\\n    'name',\\n    'version',\\n    'objectStoreNames'\\n  ]);\\n\\n  proxyMethods(UpgradeDB, '_db', IDBDatabase, [\\n    'deleteObjectStore',\\n    'close'\\n  ]);\\n\\n  function DB(db) {\\n    this._db = db;\\n  }\\n\\n  DB.prototype.transaction = function() {\\n    return new Transaction(this._db.transaction.apply(this._db, arguments));\\n  };\\n\\n  proxyProperties(DB, '_db', [\\n    'name',\\n    'version',\\n    'objectStoreNames'\\n  ]);\\n\\n  proxyMethods(DB, '_db', IDBDatabase, [\\n    'close'\\n  ]);\\n\\n  // Add cursor iterators\\n  // TODO: remove this once browsers do the right thing with promises\\n  ['openCursor', 'openKeyCursor'].forEach(function(funcName) {\\n    [ObjectStore, Index].forEach(function(Constructor) {\\n      // Don't create iterateKeyCursor if openKeyCursor doesn't exist.\\n      if (!(funcName in Constructor.prototype)) return;\\n\\n      Constructor.prototype[funcName.replace('open', 'iterate')] = function() {\\n        var args = toArray(arguments);\\n        var callback = args[args.length - 1];\\n        var nativeObject = this._store || this._index;\\n        var request = nativeObject[funcName].apply(nativeObject, args.slice(0, -1));\\n        request.onsuccess = function() {\\n          callback(request.result);\\n        };\\n      };\\n    });\\n  });\\n\\n  // polyfill getAll\\n  [Index, ObjectStore].forEach(function(Constructor) {\\n    if (Constructor.prototype.getAll) return;\\n    Constructor.prototype.getAll = function(query, count) {\\n      var instance = this;\\n      var items = [];\\n\\n      return new Promise(function(resolve) {\\n        instance.iterateCursor(query, function(cursor) {\\n          if (!cursor) {\\n            resolve(items);\\n            return;\\n          }\\n          items.push(cursor.value);\\n\\n          if (count !== undefined && items.length == count) {\\n            resolve(items);\\n            return;\\n          }\\n          cursor.continue();\\n        });\\n      });\\n    };\\n  });\\n\\n  function openDb(name, version, upgradeCallback) {\\n    var p = promisifyRequestCall(indexedDB, 'open', [name, version]);\\n    var request = p.request;\\n\\n    if (request) {\\n      request.onupgradeneeded = function(event) {\\n        if (upgradeCallback) {\\n          upgradeCallback(new UpgradeDB(request.result, event.oldVersion, request.transaction));\\n        }\\n      };\\n    }\\n\\n    return p.then(function(db) {\\n      return new DB(db);\\n    });\\n  }\\n\\n  function deleteDb(name) {\\n    return promisifyRequestCall(indexedDB, 'deleteDatabase', [name]);\\n  }\\n\\n  exports.openDb = openDb;\\n  exports.deleteDb = deleteDb;\\n\\n  Object.defineProperty(exports, '__esModule', { value: true });\\n\\n}));\\n\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"factory\",\"define\",\"amd\",\"self\",\"idb\",\"promisifyRequest\",\"request\",\"Promise\",\"resolve\",\"reject\",\"onsuccess\",\"request.onsuccess\",\"result\",\"onerror\",\"request.onerror\",\"error\",\"promisifyRequestCall\",\"obj\",\"method\",\"args\",\"p\",\"apply\",\"then\",\"promisifyCursorRequestCall\",\"value\",\"Cursor\",\"proxyProperties\",\"ProxyClass\",\"targetProp\",\"properties\",\"forEach\",\"prop\",\"Object\",\"defineProperty\",\"prototype\",\"get\",\"set\",\"val\",\"proxyRequestMethods\",\"Constructor\",\"arguments\",\"proxyMethods\",\"proxyCursorRequestMethods\",\"Index\",\"index\",\"_index\",\"cursor\",\"_cursor\",\"_request\",\"ObjectStore\",\"store\",\"_store\",\"Transaction\",\"idbTransaction\",\"_tx\",\"complete\",\"oncomplete\",\"idbTransaction.oncomplete\",\"idbTransaction.onerror\",\"onabort\",\"idbTransaction.onabort\",\"UpgradeDB\",\"db\",\"oldVersion\",\"transaction\",\"_db\",\"DB\",\"IDBIndex\",\"IDBCursor\",\"methodName\",\"createIndex\",\"ObjectStore.prototype.createIndex\",\"ObjectStore.prototype.index\",\"IDBObjectStore\",\"objectStore\",\"Transaction.prototype.objectStore\",\"IDBTransaction\",\"createObjectStore\",\"UpgradeDB.prototype.createObjectStore\",\"IDBDatabase\",\"DB.prototype.transaction\",\"funcName\",\"replace\",\"Array\",\"slice\",\"call\",\"callback\",\"length\",\"nativeObject\",\"getAll\",\"Constructor.prototype.getAll\",\"query\",\"count\",\"instance\",\"items\",\"iterateCursor\",\"push\",\"undefined\",\"continue\",\"openDb\",\"name\",\"version\",\"upgradeCallback\",\"indexedDB\",\"onupgradeneeded\",\"request.onupgradeneeded\",\"event\",\"deleteDb\"]\n}\n"]