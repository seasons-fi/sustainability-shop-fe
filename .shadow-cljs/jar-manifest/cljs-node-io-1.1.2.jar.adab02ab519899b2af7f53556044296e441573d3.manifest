["^ ","~:foreign-libs",[],"~:externs",[],"~:resources",[["^ ","~:js-str-offsets",[],"~:classpath",true,"~:js-esm",false,"~:cache-key",["adab02ab519899b2af7f53556044296e441573d3"],"~:js-imports",[],"~:js-invalid-requires",[],"~:goog-provides",[],"~:js-language","es6","~:goog-module",null,"~:ns","~$module$cljs_node_io$fork_test","~:output-name","module$cljs_node_io$fork_test.js","~:resource-id",["~:shadow.build.classpath/resource","cljs_node_io/fork_test.js"],"~:resource-name","cljs_node_io/fork_test.js","~:type","~:js","~:js-requires",[],"~:source","\nprocess.stdin.on(\"data\",\n  (chunk) => {\n    var msg = chunk.toString(\"utf8\");\n    if (msg == \"exit\"){ // for after calling process.disconnect()\n      process.exit();\n    } else {\n      process.stdout.write(msg);\n    }\n  });\n\nprocess.on(\"message\",\n  (msg) => { // [\"stderr\" [\"data\" [\"some string\"]]]\n    var key = msg[0];\n    var val = msg[1];\n\n    switch (key){\n      case \"stderr\": // only data events\n        process.stderr.write(val[1][0]);\n        break;\n      case \"stdout\": // only data events\n        process.stdout.write(val[1][0]);\n        break;\n      case \"message\":\n        process.send(val[0], val[1]); //obj + handle\n        break;\n      case \"disconnect\":\n        process.disconnect();\n        break;\n    }\n  });\n\nprocess.on(\"uncaughtException\",\n  (err) => {\n    process.send([\"uncaughtException\", {stack: err.stack, msg: err.message}]);\n    process.exit();\n  });\n\n//fail safe\nsetTimeout(()=>{process.exit(1)},5000).unref();","~:last-modified",1627817052128,"~:requires",["~#set",[]],"~:pom-info",["^ ","~:group-id","~$cljs-node-io","~:artifact-id","^K","~:version","1.1.2","~:name","cljs-node-io","~:description","A ClojureScript IO Library for NodeJS","~:url","https://github.com/pkpkpk/cljs-node-io","~:id","^K","~:coordinate",["^K","1.1.2"]],"~:goog-requires",[],"~:inspect-info",["^ ","^3",[],"^5",false,"^7",[],"^8",[],"^9",[],"^:","es6","^;",null,"^D",[],"^S",[],"~:uses-global-buffer",false,"~:uses-global-process",true],"^P",["~#url","jar:file:/Users/margoobraztsova/.m2/repository/cljs-node-io/cljs-node-io/1.1.2/cljs-node-io-1.1.2.jar!/cljs_node_io/fork_test.js"],"~:provides",["^H",["^="]],"^U",false,"~:from-jar",true,"~:deps",["process"],"^V",true]],"~:data-readers",null,"~:shadow.build.classpath/CACHE-TIMESTAMP",1627822722000]